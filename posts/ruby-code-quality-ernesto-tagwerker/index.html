<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ruby Code Quality with Ernesto Tagwerker | hexdevs</title><meta name=keywords content="ruby,ruby on rails,software design,best practices"><meta name=description content="Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt? Instead of being a firefighter, what if you could be a happy programmer again? Listen and learn exactly how to measure tech debt and take the right steps to immediately improve code quality!"><meta name=author content="Stefanni Brasil, Thiago Araujo"><link rel=canonical href=https://www.hexdevs.com/posts/ruby-code-quality-ernesto-tagwerker/><link href=https://www.hexdevs.com/assets/css/stylesheet.min.61ab0259e098d31b939a41eaa5322684bd8739ebdc9f6e267596effbf799d64a.css integrity="sha256-YasCWeCY0xuTmkHqpTImhL2HOevcn24mdZbv+/eZ1ko=" rel="preload stylesheet" as=style><link rel=icon href=https://www.hexdevs.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.hexdevs.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.hexdevs.com/favicon-32x32.png><link rel=apple-touch-icon href=https://www.hexdevs.com/apple-touch-icon.png><link rel=mask-icon href=https://www.hexdevs.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.75.1"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-205465720-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Ruby Code Quality with Ernesto Tagwerker"><meta property="og:description" content="Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt? Instead of being a firefighter, what if you could be a happy programmer again? Listen and learn exactly how to measure tech debt and take the right steps to immediately improve code quality!"><meta property="og:type" content="article"><meta property="og:url" content="https://www.hexdevs.com/posts/ruby-code-quality-ernesto-tagwerker/"><meta property="og:image" content="https://www.hexdevs.com/images/posts/hexdevs-podcast-ruby-code-quality-with-ernesto-tagwerker.png"><meta property="article:published_time" content="2021-11-29T10:07:55-08:00"><meta property="article:modified_time" content="2021-11-29T17:24:57-08:00"><meta property="og:site_name" content="hexdevs"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.hexdevs.com/images/posts/hexdevs-podcast-ruby-code-quality-with-ernesto-tagwerker.png"><meta name=twitter:title content="Ruby Code Quality with Ernesto Tagwerker"><meta name=twitter:description content="Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt? Instead of being a firefighter, what if you could be a happy programmer again? Listen and learn exactly how to measure tech debt and take the right steps to immediately improve code quality!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ruby Code Quality with Ernesto Tagwerker","name":"Ruby Code Quality with Ernesto Tagwerker","description":"Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt?\nInstead of being a firefighter, what if you could be a happy programmer …","keywords":["ruby","ruby on rails","software design","best practices"],"articleBody":"Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt?\nInstead of being a firefighter, what if you could be a happy programmer again and “Escape the tar pit”?\nLearn exactly how to measure tech debt and take the right steps to immediately improve code quality. Listen to our conversation with Ernesto Tagwerker (@etagwerker).\n \n Apple Podcasts | Spotify\nAbout our guest Ernesto Tagwerker is the founder \u0026 CTO at FastRuby.io \u0026 OmbuLabs.\nHe and his company are the maintainers of many code quality projects: skunk, rails_stats, metric_fu, and rubycritic, and many other important Ruby gems such as database_cleaner, bundler_leak, and next_rails.\nHe’s an expert in upgrading and improving legacy Ruby on Rails applications. He taught us some step-by-step strategies you can follow to quickly measure and improve code quality.\nShow Notes  Save your spot for the hexdevs Software Design Workshop and take the next right step for your career Ernesto Tagwerker on Twitter Read How to Improve Code Quality on a Ruby on Rails Application hexdevs Podcast episode about maintaining shoulda_matchers with Gui Vieira RubyConf 2019 - Escaping The Tar Pit by Ernesto Tagwerker The Code Quality Challenge The Mythical Man-Month (book) Breaking Up the Behemoth by Sandi Metz Getting Empirical About Refactoring Code Quality Tools Makers vs Menders Talk by M. Scott Ford Surviving Legacy Code Workshop skunk (gem) skunk.fyi (gem) rails_stats (gem) metric_fu (gem) rubycritic (gem)    Ruby Code Quality with Ernesto Tagweker - Transcript [00:00:00] Stefanni Brasil: Hey, there! Stefanni here. Before you listen to this amazing episode, we have something to ask you!\n[00:00:06] Thiago Araujo: Feel like you’ve been stagnating in your current position as a Ruby on Rails developer? Working on projects that aren’t getting you to the next level? Stuck in a mid-level position?Have you been applying to jobs and getting rejected?\n[00:00:21] Stefanni Brasil: It can be hard to improve your skills outside of your work. What if you knew exactly how to get your Software Engineering skills to the next level?\n[00:00:31] Thiago Araujo: hexdevs.com/workshop and get on the waitlist today!\n[00:00:51] Stefanni Brasil: Enjoy the episode!\n[00:00:52] Thiago Araujo: Ernesto Tagwerker is the founder and cto@fastruby.io and OmbuLabs. He is the maintainer of database cleaner bundler leak, and next rails. He just told us today that fast Ruby has recently inherited other important Ruby code quality projects, such as. rails_stats, metric Fu and Ruby critic, which is a great gem.\n[00:01:26] Thiago Araujo: We watched your talk in a previous watch party. Uh, the talk is name escaping the Tar Pit. Thank you so much for such a great talk. People got surprised with thegems that you mentioned so many genes that can use to improve code quality. So that’s really amazing and yeah. Welcome Ernesto. It’s so great to have you on the.\n[00:01:48] Ernesto Tagwerker: Uh, Thiago and Stefanni, thank you very much for having me. And, uh, yeah. Also for hosting a watch party for my talk on code quality on skunk. Uh, it’s great to be here.\n[00:02:01] Thiago Araujo: And by the way, what else has gotten people surprised by your talk? Do you have that information? Yeah, I think I’ve gotten some really positive feedback from a lot of developers.\n[00:02:13] Ernesto Tagwerker: I presented this talk and the Philadelphia Ruby meetup, uh, Ruby confu S RubyConf Australia. And I got a bunch of comments from people and mostly positive. And some comments are from people who don’t believe in code coverage. So. Yeah, I definitely stood out because I believed like code coverage as a metric has always been something that adds value and builds trust and an application.\n[00:02:42] Ernesto Tagwerker: And knowing that 70% of the code is covered by tests, uh, usually is a good thing in my book, but there are some people out there that don’t believe that. And that sometimes, you know, they have had bad experiences where they have. An application that had 90% code coverage, and then they opened the test suite and they just looked, it was exercising the code, but it was not expecting anything from the code.\n[00:03:10] Ernesto Tagwerker: Yeah, I guess there are outliers out there of people who have gamed the code coverage metric, but I don’t believe that takes the value away from that metric. And. Escaping the Tar Pit is mainly focusing on churn, complexity and code coverage. By combining, combining all these metrics. The idea is that you can get insights from your code base and know what things you can improve next to reduce tech debt and in your project.\n[00:03:42] Thiago Araujo: It’s interesting that you mentioned people that don’t, don’t like this metric very much code coverage. We also have to be careful with. Uh, the test suite, because it’s still code, right. It’s not just some crazy code that you write just to do some asserts. So the test suite is also code slate. It should be good code.\n[00:04:04] Thiago Araujo: Right? So this is one of the problems that I see sometimes where people treat their tests, not with the same care and consideration compared to their code.\n[00:04:15] Ernesto Tagwerker: For sure. Yeah. In terms of, you know, running a test suite that is. A good test where it is like, yeah, what is a good test suite? Sometimes you do have like really good code coverage.\n[00:04:27] Ernesto Tagwerker: Let’s say 80%, but the test suite fails one or seven times out of 10 times that it runs because it has flaky specs in there. You need to be careful about the quality of the test suite as well, so that you can trust that it executes. It tests the behavior of your code, but also it doesn’t frustrate you when you’re trying to run it and you get to like rerun and rerun and rerun.\n[00:04:55] Ernesto Tagwerker: That’s definitely something you want to avoid and, uh, definitely improve if you find that in your application.\n[00:05:01] Thiago Araujo: For sure. And one of the things that is also important is the performance of the. Test suite, because like you mentioned, sometimes you have flaky tests and you want to run the test suite on CI or on your computer, but then it takes a long time, like 40 minutes now, or to run and then something fails and then you have to run it again.\n[00:05:24] Thiago Araujo: It’s kind of annoying. Is there any tip you can share to. Maybe improve the performance, like testing parallel, things like that. Yeah.\n[00:05:33] Ernesto Tagwerker: That’s usually what we see in our clients. Um, it’s got fast Ruby that I, oh, we work with clients that have been running rails for the past 10 years. So as time goes by, their test suite takes longer and longer.\n[00:05:47] Ernesto Tagwerker: So what they end up doing as. Parallelizing their test suite to run it multiple shards or jobs. And that way they reduce the total time that it takes to get the feedback from their test suite. But, uh, yeah, I don’t have a lot of, uh, advice in that sense. I think it’s important and there are definitely gems out there that help you see what.\n[00:06:11] Ernesto Tagwerker: Scenarios in your test suite are the least performance. If anything, if you notice that your test suite is super slow to find gems that can tell you like which ones, which scenarios are the slowest ones. Sometimes the slowness is because of. Consuming like a third party API that you shouldn’t funny story.\n[00:06:33] Ernesto Tagwerker: I once did that and ended up finding a security hole in an API that I was using. But, um, yeah, don’t do that. Try to stub and mock all those third party services. So they don’t have to slow down your test suite.\n[00:06:50] Stefanni Brasil: Let’s say I’m a developer that is working on the code base that I simply know it is a mess, but I have no idea how to get out of it, how to get started.\n[00:07:02] Stefanni Brasil: Maybe the tests are in that situation that we are just discussing now. And the easiest solution is to find another job. What would you say is another alternative? What would you advise me?\n[00:07:16] Ernesto Tagwerker: Um, oh, that’s a good question. I think the main thing is to think about why are you in the tar pit? Like, why is it so hard to ship small changes?\n[00:07:26] Ernesto Tagwerker: Why is it that. Tweak small things in your application and seven different things break. Why is it so hard to find root causes for bugs? And that ideally will tell you like, okay, there are a bunch of things that are wrong with your code base. I wouldn’t recommend that you take. Three months to pay off all the technical debt.\n[00:07:49] Ernesto Tagwerker: Uh, I don’t think that’s a good approach to say. Um, yeah, I’m going to take three months to fix all the technical debt and then everything’s going to be fine because it’s a, it’s basically a habit that you need to build in your team and sometimes you do need, um, All the time you need management approval to say every week or every sprint we’re going to dedicate 10, 20% of the sprint to paying off some of the technical debt.\n[00:08:18] Ernesto Tagwerker: If management in your company is not open to something like that to like gradually pay off, you know, 20 minutes, an hour of technical debt in every sprint. I think then, yeah, maybe you do need to find another job or you need to. Continue to try to communicate why it’s important to pay off technical debt because we write Ruby code and we understand that program.\n[00:08:44] Ernesto Tagwerker: Your happiness is very important and Ruby gives us great tools to write code that makes us happy. But of course, as the application evolves and as many hands. You know, submitting changes and all that. There’s always a possibility that it will become super complicated and super hard to maintain. You know, there are very small things and I really like, uh, Ben Orestein, uh, code quality challenge.\n[00:09:11] Ernesto Tagwerker: Um, he has this initiative where you can do one thing at a time and it’s just like 20 minutes and you do this thing for 20 minutes and then, okay. You pay it off a little bit. Yeah. Of the technical debt. It could be something as small as, okay. We have a test suite. We want to see what the code coverage percentage is.\n[00:09:30] Ernesto Tagwerker: So we’re gonna add, you know, this snippet of code and at the end of every CI run is just going to tell us code coverage is 50% or 51%, but adding that change should take you less than 20 minutes. And that gives you an idea of where you are in terms of code coverage. Another thing that you could do after that is to.\n[00:09:53] Ernesto Tagwerker: Skunk to your project and say, okay, after you get code coverage for the test suite, run skunk and tell me which files are the most complex and have the least coverage. And of course, these are all like research activities that you can do to kind of find your location in a map. And then once you know your location, you can actually take.\n[00:10:19] Ernesto Tagwerker: Decisions to move in the right direction and slowly pay off technical debt. I like the approach of doing small things in that consistent basis, because if there is, if it is something that it’s not already part of the culture, you probably don’t want to try to force everyone to do it. I don’t know, every day or every week, something like that.\n[00:10:44] Stefanni Brasil: I also liked how you suggest. Just doing something small that you can do without perhaps even needing approval from management. I believe that that’s one of the main reasons is it’s not the priority of the company. Do you think it’s possible to do it even without having any support from your team?\n[00:11:05] Ernesto Tagwerker: Yeah, for sure.\n[00:11:06] Ernesto Tagwerker: I think, you know, it’s definitely not the best path, but if you don’t get approval for management, if they’re like, no, we’re, we’re going to. Continue with our approach of, you know, dedicating two sprints a year to pay off technical debt. What you can do is with every change use ship, or which would every patch that you ship, you can slowly pay off technical debt is going to take you a little longer, but let’s say you’re fixing a bug.\n[00:11:37] Ernesto Tagwerker: So you use TDD. You write the test first to reproduce the issue, and then you fix it. And then. That’s a very small way to ship, not just the patch, but also test that, you know, make sure that there’s no regression in the future. Uh, if there is no test suite and you want to do this, basically just start with very small tests that just tests that one method that’s failing and boom, you have like a test suite.\n[00:12:06] Ernesto Tagwerker: It only covers like 1% of your code base, but at least 1% is higher than 0%. So. That’s great. If you’re working on changes that are like a little bit more involved, what you can do is gradually change some of the portions of code that you’re using. Touching. So, you know, like the it’s called the boy scout rule or where you go in and you do your thing, but then when you come out, the, the code is better than when you started doing the thing you were doing.\n[00:12:37] Ernesto Tagwerker: So let’s say you had to touch, you had to touch a file that has a thousand lines and maybe. While doing your work, you notice like, oh, well they’re clearly two responsibilities in this file. So break it down into two files. And now you have two files of 500 lines, which is a little more manageable. Now of course, some managers and some.\n[00:13:00] Ernesto Tagwerker: Code reviewers are going to go and say like, why are you doing this? Like your task was to fix this button and your can be like, well, yeah, it was to fix the button, but I also want it to improve the code base. And I mean, ideally you won’t get in trouble for it because ideally you are reducing complexity and making things simpler.\n[00:13:22] Ernesto Tagwerker: But if you do get in trouble for it, yeah, it might be a good time to find the, a new job. And my company’s hiring, you know, and we appreciate people who go the extra mile. So feel free to, yeah, for sure.\n[00:13:37] Thiago Araujo: So if you’re listening in, you’re working at a place that don’t do appreciate good code quality, it can just talk to your Ernesto and get a job at fastRuby\n[00:13:46] Thiago Araujo: I really like your approach because it’s easier to lead by example. So if you’re working at a place that doesn’t. Great engineering culture and you don’t care much about tests. I had that experience in the past and it’s kind of annoying. And the only thing I could do was I had to lead by example, it’s kind of tiring and frustrating, but whenever I worked on something, I try to add at least the beat, a little bit of tests and do some refactoring and things like that is not always possible of course, but I think that everybody appreciates when.\n[00:14:22] Thiago Araujo: That’s, you know, even if they don’t do that, even if your peers, they don’t really write tests or they say, oh, we don’t have the time or whatever, if there is no culture related to that, but they always appreciated. So they say, oh, you had some tests here. That’s great. And they, they even talk about it later.\n[00:14:42] Thiago Araujo: Oh, did you see, uh, uh, the task for this code base? They start learning more about it, but I think everybody likes it. Everybody appreciates, uh, tests. Yeah. Leading by example is, uh, is another idea.\n[00:14:54] Ernesto Tagwerker: Yeah. I wanted to ask you folks, um, about that. Like, have you ever tried following this approach and you found that.\n[00:15:05] Ernesto Tagwerker: The person reviewing it or your boss did not appreciate it because as I said, this takes more time. So maybe you took four hours instead of one hour, or maybe took like two days instead of like two hours. Uh, but did you ever experience like pushback when ever, uh, this happened? In my experience, it was actually hard.\n[00:15:28] Stefanni Brasil: I was still learning the best practices for testing. I knew they weren’t testing that behavior that much. Like I didn’t trust the tests that much, but also I didn’t know how to improve them a little bit. So it was extra hard for me because I wanted to improve, but I also didn’t have the support or yet the, the knowledge to do it.\n[00:15:49] Stefanni Brasil: And I think maybe that might even be one of the main reasons why. It’s extra harder sometimes for some people, depending where they are working is I do have to drive. I do know this is not good, but I, I don’t know, but I am the one who cares.\n[00:16:06] Ernesto Tagwerker: Yeah. I think, um, you know, as, as developers, you know, were, who are getting into a project or a new client that we’re working with, we’re always eager to fix things, right.\n[00:16:19] Ernesto Tagwerker: And to make things better. And sometimes, yeah, it is hard to balance. The fact of like, okay, you’re learning a new system and not just a new system, a new culture, new best practices, new coding style, all, all of that. So it’s like, okay, how long does it take for you to learn? Like the way a team works and an application was built and the minute you start submitting like this small changes to pay off what you think is technical.\n[00:16:50] Ernesto Tagwerker: That’s why I like the idea of like, establishing kind of like a baseline of code quality and saying like, okay, these are the tools we’re going to use. Where are you going to use Robocop? We’re going to use, um, Ruby critic and we’re going to use simple cough to judge quality and like the changes and then the code base.\n[00:17:10] Ernesto Tagwerker: Uh, and I think only after you have set a baseline, you can probably be more comfortable about the changes that you think will. Move the project in the right direction. Everybody has the same understanding, but yeah, I think it is hard. To adapt your own ideas to like someone else’s project. And especially as a consulting shop, like we are, we have a hard time with that and we just need to make sure that we respect the, the practices that our clients have.\n[00:17:41] Thiago Araujo: It seems to me, I seen that you mention you develop software for clients and do you have to convince them. That’s so important. Do you need a budget for tests or do you just say, oh, I’m going to build this feature. I’m gonna upgrade your rails version that. Kind of included in the budget?\n[00:18:00] Ernesto Tagwerker: Well, we are a consulting shop and we work on two types of projects, mainly like we build new applications for companies and entrepreneurs that have an idea and want us to build it for that sort of project.\n[00:18:16] Ernesto Tagwerker: We certainly ship code, but also code comes with test suites. So we. Don’t even mention it when we’re talking about it, but if there’s someone technical in the client side and they want to know how we work, it’s like we ship code, but we also shipped to a test suite with it to make sure that their behavior is always.\n[00:18:39] Ernesto Tagwerker: Now for rails upgrade projects. Um, the things that we do is we don’t really touch the test suite that much, to be honest, we might tweak little things, but an ideal project for us is a project where we change all the libraries underneath the application and some of the code that uses the rails, API and Ruby API.\n[00:19:04] Ernesto Tagwerker: And. The test suite continues to pass, you know, in rails four, two and rails five. Oh. So we don’t really write a lot of tests for the rails upgrade projects. Uh, we do have like a pretty high threshold where we tell our clients if they don’t have. 70% or more in terms of code coverage, we can’t really take on their project.\n[00:19:27] Ernesto Tagwerker: Uh, and we do that because we learned, we learned the lesson in previous projects where we took on clients that had 50% code coverage and. We presented our estimates and then our estimates were off because manual QA took a way longer time than just running the test suites. Uh, an automated test test suite.\n[00:19:49] Ernesto Tagwerker: We, we only take clients that have like a solid, solid tests. Uh, and it’s not just about code coverage for us. Like, it usually means like if we’re talking to a potential client that doesn’t have a test suite coverage is 0%. It’s a major red flag for us. Uh, it’s not just tech debt. It’s probably culture.\n[00:20:09] Ernesto Tagwerker: Debt is probably like, you know, communication that tooling that, and. What we usually propose to these sort of clients is to work with us, to create a test suite that tests like the critical flow of the application. But, uh, so far nobody has taken us up on that offer.\n[00:20:30] Stefanni Brasil: I found it really clever how you filter out the clients.\n[00:20:35] Stefanni Brasil: And all that I can think of is that will be a great question to ask in a job interview. We usually ask, how is the. Tech dev culture if we get there, but usually is how is the team culture valuable would be really good to ask. How good is the test coverage? How is the culture with tests? I never thought of asking that, but I, I think it could also be applied to top interviews.\n[00:21:02] Stefanni Brasil: Yeah, I think that would be a good idea. I know that there are tools out there, like cold climate and. Seen, um, that help, you know, clients and projects have like, uh, an eye on the code quality of the application. But when I built skunk, the idea was very ambitious of course, to say, okay, maybe in the future, someone will say, what is your skunk score?\n[00:21:29] Stefanni Brasil: Average? You know, I would love to know your code coverage percentage, but also your. Uh, Skunk score average. And that way you would know a little bit more about the application. You’re getting yourself into one question I definitely would recommend to people who are considering a job is to ask the potential company, what version of rails and Ruby they’re using in production.\n[00:21:55] Stefanni Brasil: In fast Ruby that I, oh, we talked to a lot of companies out there that are running like rails three to four, two, and they’ve been around for 10 years or more. Some of them are determined to upgrade and they work with us and some are okay. Just having a very old version of rails, but yeah. That is definitely like a signal to consider when accepting or rejecting a job.\n[00:22:22] Thiago Araujo: Do you see any differences in the business? So for example, companies that are okay having another version of rails, are they tech companies, are they, sales companies are companies that do something that is not. Tack or maybe they don’t have a product. Do you see any differences in the mindset versus the business side of things?\n[00:22:47] Thiago Araujo: How, how they do things, what they sell?\n[00:22:49] Ernesto Tagwerker: Not really. I mean, we don’t specialize in any industry. If anything, we specialize on JavaScript, uh, react JS. Ruby and rails. So we’re very much tech focused and not so much industry focused. Um, we’d definitely work with companies that have from one engineer in their develop and their development team to 500 engineers in the.\n[00:23:18] Ernesto Tagwerker: Engineering department, I would say it’s probably more common in smaller companies with smaller engineering teams that are focused on shipping changes, uh, patching bugs. They have a roadmap and technical debt is seen as a distraction as in, uh, we will pay off, we’ll pay it off later. Like this is not a priority.\n[00:23:43] Ernesto Tagwerker: We really need to ship this for, you know, black Friday. So we’re okay. Focused on tech debt. Later, but usually later never comes anyway, but yeah, I definitely have seen a lot of these issues, not just in small companies, but also like huge companies out there. I think it’s, it’s probably like a cultural problem, like, uh, teams focusing on shipping things and the roadmap and technical debt kind of takes a back seat.\n[00:24:12] Ernesto Tagwerker: And sometimes you see like these, oh, we’re going to. Uh, one or two weeks or a whole, I don’t think a whole month is reasonable, but like, let’s take two weeks, everybody working on tech debt and let’s bring it down, but once a year, and I think that’s a bad strategy. I think it’s more important to have that built-in and every sprint a little bit.\n[00:24:34] Ernesto Tagwerker: So yeah, I think companies that have that embedded in their culture. Better companies to join.\n[00:24:41] Thiago Araujo: One thing that Stefanni talked about about the interview thing is something that I’ve seen is sometimes. The company has, let’s say good teams and bad teams. So one of the teams, they have a good tech lead and they care about code quality and testing.\n[00:24:59] Thiago Araujo: But then in other teams they don’t care as much. And so you’re like, oh, I joined the company. I interview for the steam, but then you work on another project that doesn’t really have any code coverage. So it can be misleading sometimes to ask about the code quality, because you’re never sure where you’re going to land.\n[00:25:18] Thiago Araujo: Right?\n[00:25:18] Ernesto Tagwerker: Yeah. I mean, I think you’re probably talking about like huge companies. I think there are also like ton of companies out there that only have one rails monoliths. Yeah. You’ll get more or better. Information. And even if you’re joining a huge company, I think you would probably be okay, asking like information about the component that you’re going to be working on, to get an idea of what version of Ruby and rails here you’re working on.\n[00:25:46] Ernesto Tagwerker: I need to actually improve the way that we sell. Rails upgrade services, because I think we’re still doing a pretty bad job at communicating, like the non-technical results that you can get by upgrading. And one of them is definitely like people related, like nobody wants to work on a rails four application.\n[00:26:11] Ernesto Tagwerker: Uh, nobody wants to join like a team that’s running rails three. Because every time you need to fix something, it’s like, you have to go on these archeological expedition to find the API for the current or the old version of rails. So one of the things that I mentioned in my sales calls is that if you upgrade a route six one, it’s going to be easier to hire people.\n[00:26:39] Ernesto Tagwerker: And right now, you know, the market is crazy for tech talent out there. So these little things make a difference and people want to work in. Departments and applications that are not constantly on fire. Uh, people want to work 40 hours a week or less. I think tech debt is tightly coupled with the, with that idea of programmer happiness and not being a firefighter in, in your job\n[00:27:09] Thiago Araujo: and not only hiring people, but also.\n[00:27:11] Thiago Araujo: Keeping the goods people, right. Retention rate, because no one wants to work on an old code base for,\n[00:27:20] Stefanni Brasil: I agree a lot. And also from the perspective of the majority of people that are still in the. mid-level career. You want to work on the new things. You want to keep your skills sharpening. You know, you don’t want to stay stuck working on old things because they’re probably getting stuck in your career.\n[00:27:46] Stefanni Brasil: It’s going to be harder to get out of that work. And it’s really interesting how showing that in the terms of, Hey, if you don’t take this decision now, even though it doesn’t. You might not make sense. Now it’s just part of the long-term planning. That’s really clever and Ernesto, you mentioned skunk, which is the gem that you created.\n[00:28:14] Stefanni Brasil: And from all thegems that we mentioned in the beginning rails_stats metric_foo ruby critic. Is this the only one that you created? Or did you also create another one?\n[00:28:28] Ernesto Tagwerker: Yeah, it’s definitely the, the one I created and it has been the most popular, uh, I’ve created other gems in the past. Um, but they weren’t that popular.\n[00:28:41] Ernesto Tagwerker: Um, but, uh, yeah, recently we found ourselves kind of becoming cold call maintainers of Ruby gems that have been abandoned by their previous maintainers. Uh, or you know, that the maintainers that we’re currently working on them moved onto something else. Um, so Ruby critic, um, I started contributing to it and I thought it was a really cool idea.\n[00:29:06] Ernesto Tagwerker: And I started trying to fix a couple of things. And when I was building skunk, I wanted to combine complexity and churn data with, um, Code coverage. There are two great articles by one by Michael feathers, another one by Sandy Metz, where they talk about this idea of the churn versus complexity graph. And in order to find insights about a code base.\n[00:29:36] Ernesto Tagwerker: Which is awesome because you can quickly see which files are the most changed and the most complex. And you’re like, okay, I probably want to stay away from, from those, if I’m just starting on the project. And then I thought it would be awesome to add a third dimension in code complexity. So instead of seeing like a 2d graph with churn and complexity, it would be more kind of like a cube, I guess.\n[00:30:06] Ernesto Tagwerker: Uh, never got to build the UI for it. So right now it’s only like a terminal table that is printed and it basically ranks the files, forum, stinkiest to nicer smelling code. Um, but yeah, anyway, the idea was not to. Criticize someone’s application, but it more about finding the files that need the most attention.\n[00:30:35] Ernesto Tagwerker: Um, and I thought, okay, what about combining churn times? Complexity times, lack of coverage. Um, and that’s how skunk was born. I decided to. Tightly, couple it to Ruby critic. So skunk uses Ruby critic to work. That’s why I became a maintainer, of ruby critic, uh, for rail stats. Um, so there’s, you know, the native rake stats, uh, that comes with rails, which.\n[00:31:07] Ernesto Tagwerker: Pretty cool. But sometimes it’s hard when we’re trying to assess a code base and we have to bundle it and run, you know, bundle exec rake stats. It’s sometimes it’s harder than you would think because these are huge applications and not all of them use Docker. Um, but anyway, rail stats is a tool that lets you see the same statistics for a rails application without actually.\n[00:31:36] Ernesto Tagwerker: Uh, having to bundle the application and start the environment. Um, and one thing that we want to do in that gem soon as combine it with bundler stats in order to get an idea of the size of our rails application and that way we would have the number of gems, number of total gems and all the statistical information on the models, views, and controllers, and then metric.\n[00:32:02] Ernesto Tagwerker: I it, 10 years ago, I went to a Ruby conference in New York and I saw someone, you know, showing metric foo I thought that was really neat idea. Uh, really cool that it runs a bunch of tools against your code base. And it generates a bunch of reports, but yeah, 10 years later, I wanted to use it again because I was considering it as.\n[00:32:25] Ernesto Tagwerker: Tool that I would use, uh, to create skunk, uh, on top of, um, but it wasn’t maintained. So I started making contributions and Ben, who was the last maintainer of the project was open to adding a commentator. And, um, yeah, me and my company started, uh, commentating the project recently. And if you go to the Wiki page for metric fool, you’re actually gonna find a table with.\n[00:32:52] Ernesto Tagwerker: More than 30 other gems that are out there that are all about code quality. So I think the hard part about code quality is that. I would say we have way too many tools and way too many ways to define a baseline for our applications. Quality.\n[00:33:12] Ernesto Tagwerker: Well is actually\n[00:33:12] Thiago Araujo: pretty cool that we have so many options in the Ruby ecosystem because you should compare it to other ecosystems that they don’t have as much stuff then.\n[00:33:24] Thiago Araujo: We do. Right. So it’s really interesting.\n[00:33:27] Ernesto Tagwerker: Yeah, it is though, a little shocking that so many tools have been abandoned on the code quality front. I think like maybe seven years ago or seven to 10 years ago, there was a lot of focus on it. And it does feel like in the past five years, Those projects have been abandoned and there’s been no progress and many of them, yeah.\n[00:33:53] Thiago Araujo: This is something that I was talking about with Stefanni, because I remember five, seven years ago, like you mentioned, there were so many projects, so many talks about good quality, good coverage and all of that. And it feels like. Things changed a bit and I’m not sure why. And then I wanted to ask you, do you have any insights into that?\n[00:34:16] Thiago Araujo: Why are people not talking about code quality as much anymore? Or maybe I’m not in the right places. So I don’t know.\n[00:34:26] Ernesto Tagwerker: No, I think you, you’re probably in the right place. Uh, is. I don’t think people are talking that much about it or working on it actively. I think Ruby critic is probably the best tool out there and the one that’s getting the most attention.\n[00:34:42] Ernesto Tagwerker: So if, um, any of your listeners want to use one of these tools, I would recommend to try Ruby critic, um, and then maybe skunk, you know, The barrier of entry for skunk is a little higher because you need to runsimple cov first and then you can run skunk. But yeah. Going back to your question, I don’t know why people are not actively working on this that much and why there isn’t that much content about code quality and Ruby anymore.\n[00:35:16] Ernesto Tagwerker: Hopefully it is because people are using tools. Cold climate and code scene. And maybe they’re just adopting the defaults that are in those tools. Which is okay. You know, like if you want to use those tools, that is awesome. Go for it. They will help you pay off technical debt and focus on having a measurable, measurable way to do it.\n[00:35:43] Ernesto Tagwerker: I think maybe the quality, the quality department or the quality area has been more reactive than proactive for many companies. So it’s like. Oh, performance started crawling like what’s what’s going on. Okay. We need to find bottlenecks. Okay. Let’s focus on performance now. Or. You know, oh, the developers are taking too long to ship stuff because the code is a huge mess.\n[00:36:10] Ernesto Tagwerker: Oh, okay. Let’s spend a four spreads trying to pay off technical debt and then that will fix it. Um, which is, as I said, like a bad idea. Um, but yeah, I think we are very much reactive as, as an industry and I think. Maybe we need to be a bit more proactive. Um, and if you don’t want to use code climate or code scene, you can adapt some of these tools.\n[00:36:40] Ernesto Tagwerker: I know, like there are certain tools that are very much up to date and adopted, like Robocop is adopted and as a great way to make sure. You know, how silly discussions about code style in a pull request. You just have rural Robocop and Robocop takes care of it. Um, standard is, you know, another take on Robocop.\n[00:37:01] Ernesto Tagwerker: I still like based on Robocop and then there are other tools. So some people also like to use things like reek, uh, that will basically run with over commit. So every time someone tries to commit a code. Is stinky, according to wreak, they will have that in place. Um, so I think maybe it’s because people are picking like one or two tools and just applying them to their.\n[00:37:29] Ernesto Tagwerker: To their checks for every pull request.\n[00:37:32] Stefanni Brasil: That would be really cool. Maybe that is one of the scenarios, hopefully. And I still, you already mentioned the gems again, and I would like to ask you as a community, how can we support. Better your, I know that the best way is to contribute more, but is that, is there something specific, like maybe, do you need people to just use it now and give you feedback?\n[00:38:02] Stefanni Brasil: How, how can we help? The community by supporting the gemsthat you’ve maintained.\n[00:38:08] Ernesto Tagwerker: Yeah. Uh, I think using some of these gems would be amazing. Um, yeah, like you said, contributing can sometimes take a long time and can be a little scary, but, um, trying to use it, trying to use any of these tools, like metric food, um, rail stats, um, Ruby critic and skunk, uh, would it be.\n[00:38:33] Ernesto Tagwerker: Awesome because. If you find any issues, then we can quickly assess why it’s happening and try to fix it. Um, another thing that you can do is if you run skunk, um, there’s a little environment variable that you can set, uh, like it’s called share. She said share to one and you run skunk on an open source project.\n[00:39:00] Ernesto Tagwerker: Uh, and then it reports back to a little service that. That’s also open source. It’s called it’s called, um, skunk FYI. Um, that gives us more information to work on version 1.0, uh, I think for ver version 1.0 of skunk, what we want to do is change the skunk score grading system to something that’s easier to understand.\n[00:39:28] Ernesto Tagwerker: So. It seems like the grade a to grade F is the way to go. Like Ruby critic, does it cold climate does it. And I think skunk should do it too so that when people run the tool, they can see, you know, oh, this is an, a, this is an F there’s a D and it’s easier to. I understand that the information that’s throwing at you, because some right now when you run it, it says like all the skunk score for this file is 15,000.\n[00:40:02] Ernesto Tagwerker: And one of the questions that I’ve gotten at conferences is like, what does that even mean? What is 15,000 good or bad? And I want to give more context and say like, yeah, 15,000 is probably bad. So. Please, uh, considering factoring it.\n[00:40:20] Stefanni Brasil: I’m curious to know, how did you get started with contributing to open source?\n[00:40:26] Stefanni Brasil: Do you remember the first one and how was it?\n[00:40:31] Ernesto Tagwerker: Uh, yeah, for sure. Um, the first project was a Ruby wrapper for a service called topsy and. They were acquired by apple many years ago, but, uh, I really liked the idea of building wrappers and Ruby for API APIs. And I worked for about a week and our released it.\n[00:40:54] Ernesto Tagwerker: And then a week went by and someone else wrote the same gem and released it. And I was like, oh, What a bummer. Someone just did the same thing that I did, but they did it better because they added a test suite to the project and. Uh, yeah, it was a bummer at the beginning, but then I reached out to them on Twitter.\n[00:41:18] Ernesto Tagwerker: And to, to this, to this day, I can say that we’re friends thanks to open source. So anyway, if you want to get started with open source and you know, an API, that’s cool. And you want to use it to do some sort of mashup. I think that’s also like a great way. To get started with, uh, open source because Ruby wrappers are pretty easy to write.\n[00:41:45] Ernesto Tagwerker: And there are a ton of examples in github. Like you can just search for like the Twitter API, Ruby wrapper, and you can just copy and paste a lot of the code in there to create your own wrapper. Um, but yeah, I, uh, anyway, I, I love open source and for 10 years I’ve been doing this and. I know it’s hard for people who are just starting.\n[00:42:11] Ernesto Tagwerker: So I think using the tools and reporting back, any issues that you have is a great way to get started, to contribute to source. And another way to get started is if you like one of these tools and you want to run or write up tutorial or your own experience running one of these tools and what you learned with them.\n[00:42:34] Ernesto Tagwerker: You know, you can create an article and that helps us get more eyeballs and more people using the tools and hopefully the eyeballs turn into more issues as well.\n[00:42:47] Stefanni Brasil: Uh, good advice. One thing that pretty surprised us when we. Decided to just explore rails was we didn’t set a lot of expectations. We, we got there just, okay, what can we do here?\n[00:43:05] Stefanni Brasil: We learned quite a few interesting things just by trying to reproduce issues. For example, I think that starting with a project, just as a way to explore and setting your expectations really low kind of help. Cause then you discover some things and you makes things more exciting, I guess.\n[00:43:30] Ernesto Tagwerker: You know, some people wouldn’t recommend, uh, new developers or junior developers to start contributing to rails because rails is a beast and, you know, it’s amazing.\n[00:43:44] Ernesto Tagwerker: I love rails and I love everybody contributing to it. But. It’s very hard to get started with something there. That is, code-based one thing that you can do, and I’ve actually done it. Myself is go through the documentation and improve the documentation. There’s so much room for improvement in their rails docs that, um, if you want to make like a tiny contribution to rails, that could be a good way to get.\n[00:44:14] Ernesto Tagwerker: Um, and the more you look at the documentation, the easier it’s going to get to eventually make a code contribution to rails still. I would not recommend people start with rails. I would recommend they start with a. Small gem that they might be using or, uh, yeah. So something that’s small and easy to understand.\n[00:44:39] Thiago Araujo: Yeah, that’s a great, great tip. One thing that I guess was Gui friend of ours. He came on a podcast long time ago. He said, if you want to contribute, maybe use, maybe just get a gem. And then use the latest rails version, you know, rails 7.1 batter or whatever, and then see if it breaks if the test suite breaks and then you can just fix it.\n[00:45:04] Thiago Araujo: So this is kind of a easy way to contribute to other projects because the API, the rails API changes. So it’s. Keep things up to date.\n[00:45:15] Ernesto Tagwerker: Yeah. Yeah. I love that idea. And I’ve actually implemented it myself on these, some of these tools, that’s kind of how I got involved in some of them, because I wanted to see if they work with Ruby three and you know, Ruby three, it’s almost been a year, but there are many libraries out there that are not running their test suite against Ruby three.\n[00:45:39] Ernesto Tagwerker: And. There’s certainly a great way to, to find issues with a gym. And even if you don’t find an issue, you can just submit a pull request, including Ruby configuration. And it’s just telling them like, Hey, you were missing. gem works with Ruby three of, and it’s like a very quick way to make a contribution.\n[00:46:04] Thiago Araujo: So just getting back to the code quality discussion, I’m kind of fascinated by legacy applications, because at the same time that people originally angry at legacy code, you know, they say, oh, it’s terrible is all crap and all of that. But at the same time, It’s usually a sign that people are using the product, which is something that is very valuable for a company to have people actively paying and using yourself.\n[00:46:38] Thiago Araujo: And then people are very negative about legacy applications. And I, I think that the tips that you are sharing and then using these tools and, you know, learning more about these techniques from Michael feathers and Sandi Metz can help you be more positive about working with legacy code because you’re contributing to something that helps.\n[00:47:04] Thiago Araujo: You kind of have to change your mindset about legacy code. Right. Did you ever have to change your mindset about something that you see like a sequel in a positive way? How do you kind of approach that?\n[00:47:19] Ernesto Tagwerker: Yeah, I agree with you. Like their legacy code gets a bad rap. You know, if you think about it, um, Shopify is running legacy code and they’re making millions of dollars and sure.\n[00:47:36] Ernesto Tagwerker: They’re running the latest of rails and Ruby, but, um, yeah, if you think about it, it’s been, uh, if an application has been around for 10 years and there’s a whole company counting on it, It is deemed to be legacy code. To me, it just means like this is a business that works. And at the end of the day, they can pay me to, um, have a salary, basically.\n[00:48:01] Ernesto Tagwerker: So, and I can use the time that they pay me for to, to make it better. I really like this idea of makers and menders. My friend am Scott Ford, who runs another podcasts. I think it’s called legacy code rocks. He likes to talk about the idea that, you know, engineer. Usually are either makers or menders and either you like to build something from scratch, or you like to mend something that already exists.\n[00:48:34] Ernesto Tagwerker: I’m more of a mender than a maker. I’m sure I built my company. So in a way, I like to make businesses in a way, but some people in my company are more makers than menders. So what we want to do in my company is to have. Projects for makers and for menders. Um, but if I had to pick myself, I would pick the mender projects because I like to gradually improve, you know, the infrastructure of an application or to improve their processes.\n[00:49:11] Ernesto Tagwerker: So. Yeah, I think, uh, I think it’s important to make that definition between, you know, what you want to do with your career and what they want you to do at work, you know, and sometimes, you know, you’ll just want to mend things and sometimes. You know, other people will just want to make things and that’s okay.\n[00:49:33] Ernesto Tagwerker: Um, what I like about legacy code is that it’s working and it’s been working for many, many years and sure it can be enhanced and improved. There’s probably a test suite and the test suite is going to tell me I changed something and I try to pay off technical debt and I broke it. So yeah, I really like legacy code.\n[00:49:55] Ernesto Tagwerker: Yeah. I know there are a ton of people out there that love to work on legacy code too, even when it gets up.\n[00:50:02] Thiago Araujo: But it’s funny because it don’t hear much about it. So there are people out there working on legacy code, making things better, and you don’t hear about it because it’s working. Right. So it’s kind of like you’re doing important work, but maybe you don’t get as much.\n[00:50:19] Thiago Araujo: visibility when you’re doing that.\n[00:50:21] Ernesto Tagwerker: Yeah, I guess it’s, it’s definitely not sexy. Like, it’s not like, oh, I built this, uh, JavaScript framework to, you know, solve this problem. It’s no, it’s definitely not, not sexy. And maybe if people write about it, Reaches, not that that big, but there’s definitely like a microcosm of people who are writing articles about legacy code and maintainability.\n[00:50:52] Ernesto Tagwerker: Yeah. I actually love to be in that little microcosm, I guess\n[00:50:58] Thiago Araujo: I really loved the analogy that you mentioned Manders versus makers. And I think when you’re getting. Um, maker an engineer who is a maker and tells this person to mend software. I think the knee jerk reaction they have is, oh, I’m gonna throw everything away and build everything from scratch, you know, the big rewrite and things like that.\n[00:51:24] Thiago Araujo: And it’s. Usually doomed to failure, right? So maybe you can’t do that. So don’t put a maker to mendyour projects.\n[00:51:34] Ernesto Tagwerker: Uh, well, there’s this book by Fred Brooks and I think it was published in the seventies. And one of the chapters of the medic mythical man month is called something. The joys and woos of the craft.\n[00:51:48] Ernesto Tagwerker: And he actually goes on to say like, yeah, you know, like building something is like accessing, like the creative part of your brain is like, that’s full of joy because you’re like in a state of flow, you’re trying to solve a problem and you’re trying to build something new. So it was like, oh, everybody’s joy there.\n[00:52:06] Ernesto Tagwerker: And then the woos, or like the, the bad part is like fixing bucks, you know? And he assumes that nobody likes to fix bugs. I think that’s a wrong assumption. Like I think there are like, uh, many people out there that love to solve puzzles and love to basically dig into a bug and go deep into. The stack race and try to find that anyway, I think like we need to add this to our lingo and to say, just because you’re a software engineer doesn’t mean that you enjoy building stuff, stuff from scratch.\n[00:52:42] Ernesto Tagwerker: Like there are plenty of software engineers that just want to go to an established team and maybe. Improves that code base to work better for the end user or the developers.\n[00:52:54] Stefanni Brasil: I know rnesto. So you will have lots of things you do. Uh, just want to try to ask if there is something that you would like us to have asked that we didn’t\n[00:53:03] Ernesto Tagwerker: well, yeah, considering you’re from Brazil and I’m from Argentina.\n[00:53:07] Ernesto Tagwerker: I was actually expecting, we could talk a little bit more about soccer and the America’s cup and the last final that Brazil and Argentina played, but I know. Topic. It’s not the topic we’re discussing today, but, um, I have time to discuss that if you want. Thank you.\n[00:53:25] Thiago Araujo: We were probably the worst people. This, I have no idea about soccer at all.\n[00:53:35] Thiago Araujo: I don’t really watch soccer. Sorry.\n[00:53:38] Ernesto Tagwerker: Okay. Yeah. Even if you knew, uh, I would expect that answer anyway, so no worries. Carnival soccer. We are not very into that kind of stuff, but we can talk about food. So food is our passion. Okay. Okay. Um, anyway, no, it was great to be here. And, uh, yeah. If anybody wants to see some of the work that we do, uh, feel free to follow me on Twitter.\n[00:54:08] Ernesto Tagwerker: My handle is etagwerker and I usually. Uh, content from the company.\n[00:54:15] Stefanni Brasil: Thank you so much. That was a great talk. I loved learning so much things from you. So thank you so much for sharing your experience and your skills and insights. You know, we will make sure to put the gems in the. Episode notes. So everyone can at least take a look.\n[00:54:36] Stefanni Brasil: Ernesto is a really nice guy. And you can say you, you met him from the podcast. Everyone go check them.\n[00:54:43] Thiago Araujo: Yeah. Thank you so much. Thanks so much here,Ernesto for coming on the show. Thank you so much for your work as well. So these gems are really important and, you know, having someone to take over and continue the work is really important, really relevant.\n[00:54:59] Thiago Araujo: The community is also nice to finally meet you because we worked in the same projects in the past. We will never really met. I always saw your picture on git but I never got to talk to you. So it’s really amazing to, to meet you and thank you so much.\n[00:55:15] Ernesto Tagwerker: I hope it’s all, all good things and you didn’t have to fix all the bugs that I added before I left.\n[00:55:23] Stefanni Brasil: Yeah, should run the skunk and report.\n[00:55:30] Ernesto Tagwerker: Please do that.\n[00:55:43] Stefanni Brasil: Thank you for listening to this episode, we put lots of love into the hex labs podcast, and we hope you learned something insightful before you go on with your day. Could you share this episode with a friend or a colleague? That would help us a lot\n[00:55:58] Thiago Araujo: And don’t forget to subscribe to our newsletter, to get exercises, tools, insights, to help you become a Ruby expert developer. See you on the next episode.\n   Did you like this article? You're gonna love these other ones:\n  How to Improve Code Quality on a Ruby on Rails Application   International Pricing for Ruby and Rails Books and Courses   How to Learn the Syntax of a Programming Language When You Know How to Code   ","wordCount":"9352","inLanguage":"en","image":"https://www.hexdevs.com/images/posts/hexdevs-podcast-ruby-code-quality-with-ernesto-tagwerker.png","datePublished":"2021-11-29T10:07:55-08:00","dateModified":"2021-11-29T17:24:57-08:00","author":[{"@type":"Person","name":"Stefanni Brasil"},{"@type":"Person","name":"Thiago Araujo"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.hexdevs.com/posts/ruby-code-quality-ernesto-tagwerker/"},"publisher":{"@type":"Organization","name":"hexdevs","logo":{"@type":"ImageObject","url":"https://www.hexdevs.com/favicon.ico"}}}</script></head><body id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>.theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://www.hexdevs.com/ accesskey=h title="hexdevs (Alt + H)">hexdevs</a>
<span class=logo-switches><span class=theme-toggle title="(Alt + T)"><a id=theme-toggle accesskey=t><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></a></span></span></div><ul class=menu id=menu onscroll=menu_on_scroll()><li><a href=https://podcast.hexdevs.com/ title=Podcast><span>Podcast</span></a></li><li><a href=https://www.hexdevs.com/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://www.hexdevs.com/about/ title=About><span>About</span></a></li><li><a href=https://academy.hexdevs.com/ title="Academy 👩‍🎓"><span>Academy 👩‍🎓</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Ruby Code Quality with Ernesto Tagwerker</h1><div class=post-meta>44 min&nbsp;·&nbsp;Stefanni Brasil, Thiago Araujo</div></header><figure class=entry-cover><img src=https://www.hexdevs.com/images/posts/hexdevs-podcast-ruby-code-quality-with-ernesto-tagwerker.png alt="Ruby Code Quality with Ernesto Tagwerker on the hexdevs podcast"><p>Ruby Code Quality with Ernesto Tagwerker on the hexdevs podcast</p></figure><div class=post-content><p>Are you working on Ruby on Rails Applications that are constantly on fire, overwhelmed by technical debt?</p><p>Instead of being a firefighter, what if you could be a happy programmer again and &ldquo;Escape the tar pit&rdquo;?</p><p>Learn exactly how to measure tech debt and take the right steps to immediately improve code quality. Listen to our conversation with Ernesto Tagwerker (@etagwerker).</p><p><p></p><iframe width=100% height=180 frameborder=no scrolling=no seamless src=https://share.transistor.fm/e/ed034312></iframe>
<a href="https://podcasts.apple.com/ca/podcast/hexdevs/id1475721754?l=en">Apple Podcasts</a> | <a href=https://open.spotify.com/show/6wjI62ImWn3fYTru2r8sVw>Spotify</a></p><h2 id=about-our-guest>About our guest<a hidden class=anchor aria-hidden=true href=#about-our-guest>#</a></h2><p>Ernesto Tagwerker is the founder & CTO at <a href=https://www.fastruby.io/>FastRuby.io</a> & <a href=https://www.ombulabs.com/>OmbuLabs</a>.</p><p>He and his company are the maintainers of many code quality projects: <code>skunk</code>, <code>rails_stats</code>, <code>metric_fu</code>, and <code>rubycritic</code>, and many other important Ruby gems such as <code>database_cleaner</code>, <code>bundler_leak</code>, and <code>next_rails</code>.</p><p>He&rsquo;s an expert in upgrading and improving legacy Ruby on Rails applications. He taught us some step-by-step strategies you can follow to quickly measure and improve code quality.</p><h3 id=show-notes>Show Notes<a hidden class=anchor aria-hidden=true href=#show-notes>#</a></h3><ul><li><a href=/workshop>Save your spot for the hexdevs Software Design Workshop and take the next right step for your career</a></li><li><a href=https://twitter.com/etagwerker>Ernesto Tagwerker on Twitter</a></li><li><a href=https://www.hexdevs.com/posts/code-quality-ruby-on-rails/>Read How to Improve Code Quality on a Ruby on Rails Application</a></li><li><a href=https://podcast.hexdevs.com/episodes/12-open-source-with-gui-vieira>hexdevs Podcast episode about maintaining shoulda_matchers with Gui Vieira</a></li><li><a href="https://www.youtube.com/watch?v=ZyU6K6eR-_A">RubyConf 2019 - Escaping The Tar Pit by Ernesto Tagwerker</a></li><li><a href=https://tuple.app/code-quality-challenge>The Code Quality Challenge</a></li><li><a href=https://en.wikipedia.org/wiki/The_Mythical_Man-Month>The Mythical Man-Month (book)</a></li><li><a href=https://sandimetz.com/blog/2017/9/13/breaking-up-the-behemoth>Breaking Up the Behemoth by Sandi Metz</a></li><li><a href=https://www.agileconnection.com/article/getting-empirical-about-refactoring>Getting Empirical About Refactoring</a></li><li><a href=https://github.com/metricfu/metric_fu/wiki/Code-Tools>Code Quality Tools</a></li><li><a href="https://www.youtube.com/watch?v=YW0BpCThjuM">Makers vs Menders Talk by M. Scott Ford</a></li><li><a href=https://www.jbrains.ca/training/course/surviving-legacy-code>Surviving Legacy Code Workshop</a></li><li><a href=https://github.com/fastruby/skunk>skunk (gem)</a></li><li><a href=https://github.com/fastruby/skunk.fyi>skunk.fyi (gem)</a></li><li><a href=https://github.com/fastruby/rails_stats>rails_stats (gem)</a></li><li><a href=https://github.com/metricfu/metric_fu>metric_fu (gem)</a></li><li><a href=https://github.com/whitesmith/rubycritic>rubycritic (gem)</a></li></ul><div class=signup-form-small><script async data-uid=797ebcaab4 src=https://hexdevs-team.ck.page/797ebcaab4/index.js></script></div><h2 id=ruby-code-quality-with-ernesto-tagweker---transcript>Ruby Code Quality with Ernesto Tagweker - Transcript<a hidden class=anchor aria-hidden=true href=#ruby-code-quality-with-ernesto-tagweker---transcript>#</a></h2><p>[00:00:00] <strong>Stefanni Brasil:</strong> Hey, there! Stefanni here. Before you listen to this amazing episode, we have something to ask you!</p><p>[00:00:06] <strong>Thiago Araujo:</strong> Feel like you&rsquo;ve been stagnating in your current position as a Ruby on Rails developer? Working on projects that aren&rsquo;t getting you to the next level? Stuck in a mid-level position?Have you been applying to jobs and getting rejected?</p><p>[00:00:21] <strong>Stefanni Brasil:</strong> It can be hard to improve your skills outside of your work. What if you knew exactly how to get your Software Engineering skills to the next level?</p><p>[00:00:31] <strong>Thiago Araujo:</strong> hexdevs.com/workshop and get on the waitlist today!</p><p>[00:00:51] <strong>Stefanni Brasil:</strong> Enjoy the episode!</p><p>[00:00:52] <strong>Thiago Araujo:</strong> Ernesto Tagwerker is the founder and <a href=mailto:cto@fastruby.io>cto@fastruby.io</a> and OmbuLabs. He is the maintainer of database cleaner bundler leak, and next rails. He just told us today that fast Ruby has recently inherited other important Ruby code quality projects, such as. rails_stats, metric Fu and Ruby critic, which is a great gem.</p><p>[00:01:26] <strong>Thiago Araujo:</strong> We watched your talk in a previous watch party. Uh, the talk is name escaping the Tar Pit. Thank you so much for such a great talk. People got surprised with thegems that you mentioned so many genes that can use to improve code quality. So that&rsquo;s really amazing and yeah. Welcome Ernesto. It&rsquo;s so great to have you on the.</p><p>[00:01:48] <strong>Ernesto Tagwerker:</strong> Uh, Thiago and Stefanni, thank you very much for having me. And, uh, yeah. Also for hosting a watch party for my talk on code quality on skunk. Uh, it&rsquo;s great to be here.</p><p>[00:02:01] <strong>Thiago Araujo:</strong> And by the way, what else has gotten people surprised by your talk? Do you have that information? Yeah, I think I&rsquo;ve gotten some really positive feedback from a lot of developers.</p><p>[00:02:13] <strong>Ernesto Tagwerker:</strong> I presented this talk and the Philadelphia Ruby meetup, uh, Ruby confu S RubyConf Australia. And I got a bunch of comments from people and mostly positive. And some comments are from people who don&rsquo;t believe in code coverage. So. Yeah, I definitely stood out because I believed like code coverage as a metric has always been something that adds value and builds trust and an application.</p><p>[00:02:42] <strong>Ernesto Tagwerker:</strong> And knowing that 70% of the code is covered by tests, uh, usually is a good thing in my book, but there are some people out there that don&rsquo;t believe that. And that sometimes, you know, they have had bad experiences where they have. An application that had 90% code coverage, and then they opened the test suite and they just looked, it was exercising the code, but it was not expecting anything from the code.</p><p>[00:03:10] <strong>Ernesto Tagwerker:</strong> Yeah, I guess there are outliers out there of people who have gamed the code coverage metric, but I don&rsquo;t believe that takes the value away from that metric. And. Escaping the Tar Pit is mainly focusing on churn, complexity and code coverage. By combining, combining all these metrics. The idea is that you can get insights from your code base and know what things you can improve next to reduce tech debt and in your project.</p><p>[00:03:42] <strong>Thiago Araujo:</strong> It&rsquo;s interesting that you mentioned people that don&rsquo;t, don&rsquo;t like this metric very much code coverage. We also have to be careful with. Uh, the test suite, because it&rsquo;s still code, right. It&rsquo;s not just some crazy code that you write just to do some asserts. So the test suite is also code slate. It should be good code.</p><p>[00:04:04] <strong>Thiago Araujo:</strong> Right? So this is one of the problems that I see sometimes where people treat their tests, not with the same care and consideration compared to their code.</p><p>[00:04:15] <strong>Ernesto Tagwerker:</strong> For sure. Yeah. In terms of, you know, running a test suite that is. A good test where it is like, yeah, what is a good test suite? Sometimes you do have like really good code coverage.</p><p>[00:04:27] <strong>Ernesto Tagwerker:</strong> Let&rsquo;s say 80%, but the test suite fails one or seven times out of 10 times that it runs because it has flaky specs in there. You need to be careful about the quality of the test suite as well, so that you can trust that it executes. It tests the behavior of your code, but also it doesn&rsquo;t frustrate you when you&rsquo;re trying to run it and you get to like rerun and rerun and rerun.</p><p>[00:04:55] <strong>Ernesto Tagwerker:</strong> That&rsquo;s definitely something you want to avoid and, uh, definitely improve if you find that in your application.</p><p>[00:05:01] <strong>Thiago Araujo:</strong> For sure. And one of the things that is also important is the performance of the. Test suite, because like you mentioned, sometimes you have flaky tests and you want to run the test suite on CI or on your computer, but then it takes a long time, like 40 minutes now, or to run and then something fails and then you have to run it again.</p><p>[00:05:24] <strong>Thiago Araujo:</strong> It&rsquo;s kind of annoying. Is there any tip you can share to. Maybe improve the performance, like testing parallel, things like that. Yeah.</p><p>[00:05:33] <strong>Ernesto Tagwerker:</strong> That&rsquo;s usually what we see in our clients. Um, it&rsquo;s got fast Ruby that I, oh, we work with clients that have been running rails for the past 10 years. So as time goes by, their test suite takes longer and longer.</p><p>[00:05:47] <strong>Ernesto Tagwerker:</strong> So what they end up doing as. Parallelizing their test suite to run it multiple shards or jobs. And that way they reduce the total time that it takes to get the feedback from their test suite. But, uh, yeah, I don&rsquo;t have a lot of, uh, advice in that sense. I think it&rsquo;s important and there are definitely gems out there that help you see what.</p><p>[00:06:11] <strong>Ernesto Tagwerker:</strong> Scenarios in your test suite are the least performance. If anything, if you notice that your test suite is super slow to find gems that can tell you like which ones, which scenarios are the slowest ones. Sometimes the slowness is because of. Consuming like a third party API that you shouldn&rsquo;t funny story.</p><p>[00:06:33] <strong>Ernesto Tagwerker:</strong> I once did that and ended up finding a security hole in an API that I was using. But, um, yeah, don&rsquo;t do that. Try to stub and mock all those third party services. So they don&rsquo;t have to slow down your test suite.</p><p>[00:06:50] <strong>Stefanni Brasil:</strong> Let&rsquo;s say I&rsquo;m a developer that is working on the code base that I simply know it is a mess, but I have no idea how to get out of it, how to get started.</p><p>[00:07:02] <strong>Stefanni Brasil:</strong> Maybe the tests are in that situation that we are just discussing now. And the easiest solution is to find another job. What would you say is another alternative? What would you advise me?</p><p>[00:07:16] <strong>Ernesto Tagwerker:</strong> Um, oh, that&rsquo;s a good question. I think the main thing is to think about why are you in the tar pit? Like, why is it so hard to ship small changes?</p><p>[00:07:26] <strong>Ernesto Tagwerker:</strong> Why is it that. Tweak small things in your application and seven different things break. Why is it so hard to find root causes for bugs? And that ideally will tell you like, okay, there are a bunch of things that are wrong with your code base. I wouldn&rsquo;t recommend that you take. Three months to pay off all the technical debt.</p><p>[00:07:49] <strong>Ernesto Tagwerker:</strong> Uh, I don&rsquo;t think that&rsquo;s a good approach to say. Um, yeah, I&rsquo;m going to take three months to fix all the technical debt and then everything&rsquo;s going to be fine because it&rsquo;s a, it&rsquo;s basically a habit that you need to build in your team and sometimes you do need, um, All the time you need management approval to say every week or every sprint we&rsquo;re going to dedicate 10, 20% of the sprint to paying off some of the technical debt.</p><p>[00:08:18] <strong>Ernesto Tagwerker:</strong> If management in your company is not open to something like that to like gradually pay off, you know, 20 minutes, an hour of technical debt in every sprint. I think then, yeah, maybe you do need to find another job or you need to. Continue to try to communicate why it&rsquo;s important to pay off technical debt because we write Ruby code and we understand that program.</p><p>[00:08:44] <strong>Ernesto Tagwerker:</strong> Your happiness is very important and Ruby gives us great tools to write code that makes us happy. But of course, as the application evolves and as many hands. You know, submitting changes and all that. There&rsquo;s always a possibility that it will become super complicated and super hard to maintain. You know, there are very small things and I really like, uh, Ben Orestein, uh, code quality challenge.</p><p>[00:09:11] <strong>Ernesto Tagwerker:</strong> Um, he has this initiative where you can do one thing at a time and it&rsquo;s just like 20 minutes and you do this thing for 20 minutes and then, okay. You pay it off a little bit. Yeah. Of the technical debt. It could be something as small as, okay. We have a test suite. We want to see what the code coverage percentage is.</p><p>[00:09:30] <strong>Ernesto Tagwerker:</strong> So we&rsquo;re gonna add, you know, this snippet of code and at the end of every CI run is just going to tell us code coverage is 50% or 51%, but adding that change should take you less than 20 minutes. And that gives you an idea of where you are in terms of code coverage. Another thing that you could do after that is to.</p><p>[00:09:53] <strong>Ernesto Tagwerker:</strong> Skunk to your project and say, okay, after you get code coverage for the test suite, run skunk and tell me which files are the most complex and have the least coverage. And of course, these are all like research activities that you can do to kind of find your location in a map. And then once you know your location, you can actually take.</p><p>[00:10:19] <strong>Ernesto Tagwerker:</strong> Decisions to move in the right direction and slowly pay off technical debt. I like the approach of doing small things in that consistent basis, because if there is, if it is something that it&rsquo;s not already part of the culture, you probably don&rsquo;t want to try to force everyone to do it. I don&rsquo;t know, every day or every week, something like that.</p><p>[00:10:44] <strong>Stefanni Brasil:</strong> I also liked how you suggest. Just doing something small that you can do without perhaps even needing approval from management. I believe that that&rsquo;s one of the main reasons is it&rsquo;s not the priority of the company. Do you think it&rsquo;s possible to do it even without having any support from your team?</p><p>[00:11:05] <strong>Ernesto Tagwerker:</strong> Yeah, for sure.</p><p>[00:11:06] <strong>Ernesto Tagwerker:</strong> I think, you know, it&rsquo;s definitely not the best path, but if you don&rsquo;t get approval for management, if they&rsquo;re like, no, we&rsquo;re, we&rsquo;re going to. Continue with our approach of, you know, dedicating two sprints a year to pay off technical debt. What you can do is with every change use ship, or which would every patch that you ship, you can slowly pay off technical debt is going to take you a little longer, but let&rsquo;s say you&rsquo;re fixing a bug.</p><p>[00:11:37] <strong>Ernesto Tagwerker:</strong> So you use TDD. You write the test first to reproduce the issue, and then you fix it. And then. That&rsquo;s a very small way to ship, not just the patch, but also test that, you know, make sure that there&rsquo;s no regression in the future. Uh, if there is no test suite and you want to do this, basically just start with very small tests that just tests that one method that&rsquo;s failing and boom, you have like a test suite.</p><p>[00:12:06] <strong>Ernesto Tagwerker:</strong> It only covers like 1% of your code base, but at least 1% is higher than 0%. So. That&rsquo;s great. If you&rsquo;re working on changes that are like a little bit more involved, what you can do is gradually change some of the portions of code that you&rsquo;re using. Touching. So, you know, like the it&rsquo;s called the boy scout rule or where you go in and you do your thing, but then when you come out, the, the code is better than when you started doing the thing you were doing.</p><p>[00:12:37] <strong>Ernesto Tagwerker:</strong> So let&rsquo;s say you had to touch, you had to touch a file that has a thousand lines and maybe. While doing your work, you notice like, oh, well they&rsquo;re clearly two responsibilities in this file. So break it down into two files. And now you have two files of 500 lines, which is a little more manageable. Now of course, some managers and some.</p><p>[00:13:00] <strong>Ernesto Tagwerker:</strong> Code reviewers are going to go and say like, why are you doing this? Like your task was to fix this button and your can be like, well, yeah, it was to fix the button, but I also want it to improve the code base. And I mean, ideally you won&rsquo;t get in trouble for it because ideally you are reducing complexity and making things simpler.</p><p>[00:13:22] <strong>Ernesto Tagwerker:</strong> But if you do get in trouble for it, yeah, it might be a good time to find the, a new job. And my company&rsquo;s hiring, you know, and we appreciate people who go the extra mile. So feel free to, yeah, for sure.</p><p>[00:13:37] <strong>Thiago Araujo:</strong> So if you&rsquo;re listening in, you&rsquo;re working at a place that don&rsquo;t do appreciate good code quality, it can just talk to your Ernesto and get a job at fastRuby</p><p>[00:13:46] <strong>Thiago Araujo:</strong> I really like your approach because it&rsquo;s easier to lead by example. So if you&rsquo;re working at a place that doesn&rsquo;t. Great engineering culture and you don&rsquo;t care much about tests. I had that experience in the past and it&rsquo;s kind of annoying. And the only thing I could do was I had to lead by example, it&rsquo;s kind of tiring and frustrating, but whenever I worked on something, I try to add at least the beat, a little bit of tests and do some refactoring and things like that is not always possible of course, but I think that everybody appreciates when.</p><p>[00:14:22] <strong>Thiago Araujo:</strong> That&rsquo;s, you know, even if they don&rsquo;t do that, even if your peers, they don&rsquo;t really write tests or they say, oh, we don&rsquo;t have the time or whatever, if there is no culture related to that, but they always appreciated. So they say, oh, you had some tests here. That&rsquo;s great. And they, they even talk about it later.</p><p>[00:14:42] <strong>Thiago Araujo:</strong> Oh, did you see, uh, uh, the task for this code base? They start learning more about it, but I think everybody likes it. Everybody appreciates, uh, tests. Yeah. Leading by example is, uh, is another idea.</p><p>[00:14:54] <strong>Ernesto Tagwerker:</strong> Yeah. I wanted to ask you folks, um, about that. Like, have you ever tried following this approach and you found that.</p><p>[00:15:05] <strong>Ernesto Tagwerker:</strong> The person reviewing it or your boss did not appreciate it because as I said, this takes more time. So maybe you took four hours instead of one hour, or maybe took like two days instead of like two hours. Uh, but did you ever experience like pushback when ever, uh, this happened? In my experience, it was actually hard.</p><p>[00:15:28] <strong>Stefanni Brasil:</strong> I was still learning the best practices for testing. I knew they weren&rsquo;t testing that behavior that much. Like I didn&rsquo;t trust the tests that much, but also I didn&rsquo;t know how to improve them a little bit. So it was extra hard for me because I wanted to improve, but I also didn&rsquo;t have the support or yet the, the knowledge to do it.</p><p>[00:15:49] <strong>Stefanni Brasil:</strong> And I think maybe that might even be one of the main reasons why. It&rsquo;s extra harder sometimes for some people, depending where they are working is I do have to drive. I do know this is not good, but I, I don&rsquo;t know, but I am the one who cares.</p><p>[00:16:06] <strong>Ernesto Tagwerker:</strong> Yeah. I think, um, you know, as, as developers, you know, were, who are getting into a project or a new client that we&rsquo;re working with, we&rsquo;re always eager to fix things, right.</p><p>[00:16:19] <strong>Ernesto Tagwerker:</strong> And to make things better. And sometimes, yeah, it is hard to balance. The fact of like, okay, you&rsquo;re learning a new system and not just a new system, a new culture, new best practices, new coding style, all, all of that. So it&rsquo;s like, okay, how long does it take for you to learn? Like the way a team works and an application was built and the minute you start submitting like this small changes to pay off what you think is technical.</p><p>[00:16:50] <strong>Ernesto Tagwerker:</strong> That&rsquo;s why I like the idea of like, establishing kind of like a baseline of code quality and saying like, okay, these are the tools we&rsquo;re going to use. Where are you going to use Robocop? We&rsquo;re going to use, um, Ruby critic and we&rsquo;re going to use simple cough to judge quality and like the changes and then the code base.</p><p>[00:17:10] <strong>Ernesto Tagwerker:</strong> Uh, and I think only after you have set a baseline, you can probably be more comfortable about the changes that you think will. Move the project in the right direction. Everybody has the same understanding, but yeah, I think it is hard. To adapt your own ideas to like someone else&rsquo;s project. And especially as a consulting shop, like we are, we have a hard time with that and we just need to make sure that we respect the, the practices that our clients have.</p><p>[00:17:41] <strong>Thiago Araujo:</strong> It seems to me, I seen that you mention you develop software for clients and do you have to convince them. That&rsquo;s so important. Do you need a budget for tests or do you just say, oh, I&rsquo;m going to build this feature. I&rsquo;m gonna upgrade your rails version that. Kind of included in the budget?</p><p>[00:18:00] <strong>Ernesto Tagwerker:</strong> Well, we are a consulting shop and we work on two types of projects, mainly like we build new applications for companies and entrepreneurs that have an idea and want us to build it for that sort of project.</p><p>[00:18:16] <strong>Ernesto Tagwerker:</strong> We certainly ship code, but also code comes with test suites. So we. Don&rsquo;t even mention it when we&rsquo;re talking about it, but if there&rsquo;s someone technical in the client side and they want to know how we work, it&rsquo;s like we ship code, but we also shipped to a test suite with it to make sure that their behavior is always.</p><p>[00:18:39] <strong>Ernesto Tagwerker:</strong> Now for rails upgrade projects. Um, the things that we do is we don&rsquo;t really touch the test suite that much, to be honest, we might tweak little things, but an ideal project for us is a project where we change all the libraries underneath the application and some of the code that uses the rails, API and Ruby API.</p><p>[00:19:04] <strong>Ernesto Tagwerker:</strong> And. The test suite continues to pass, you know, in rails four, two and rails five. Oh. So we don&rsquo;t really write a lot of tests for the rails upgrade projects. Uh, we do have like a pretty high threshold where we tell our clients if they don&rsquo;t have. 70% or more in terms of code coverage, we can&rsquo;t really take on their project.</p><p>[00:19:27] <strong>Ernesto Tagwerker:</strong> Uh, and we do that because we learned, we learned the lesson in previous projects where we took on clients that had 50% code coverage and. We presented our estimates and then our estimates were off because manual QA took a way longer time than just running the test suites. Uh, an automated test test suite.</p><p>[00:19:49] <strong>Ernesto Tagwerker:</strong> We, we only take clients that have like a solid, solid tests. Uh, and it&rsquo;s not just about code coverage for us. Like, it usually means like if we&rsquo;re talking to a potential client that doesn&rsquo;t have a test suite coverage is 0%. It&rsquo;s a major red flag for us. Uh, it&rsquo;s not just tech debt. It&rsquo;s probably culture.</p><p>[00:20:09] <strong>Ernesto Tagwerker:</strong> Debt is probably like, you know, communication that tooling that, and. What we usually propose to these sort of clients is to work with us, to create a test suite that tests like the critical flow of the application. But, uh, so far nobody has taken us up on that offer.</p><p>[00:20:30] <strong>Stefanni Brasil:</strong> I found it really clever how you filter out the clients.</p><p>[00:20:35] <strong>Stefanni Brasil:</strong> And all that I can think of is that will be a great question to ask in a job interview. We usually ask, how is the. Tech dev culture if we get there, but usually is how is the team culture valuable would be really good to ask. How good is the test coverage? How is the culture with tests? I never thought of asking that, but I, I think it could also be applied to top interviews.</p><p>[00:21:02] <strong>Stefanni Brasil:</strong> Yeah, I think that would be a good idea. I know that there are tools out there, like cold climate and. Seen, um, that help, you know, clients and projects have like, uh, an eye on the code quality of the application. But when I built skunk, the idea was very ambitious of course, to say, okay, maybe in the future, someone will say, what is your skunk score?</p><p>[00:21:29] <strong>Stefanni Brasil:</strong> Average? You know, I would love to know your code coverage percentage, but also your. Uh, Skunk score average. And that way you would know a little bit more about the application. You&rsquo;re getting yourself into one question I definitely would recommend to people who are considering a job is to ask the potential company, what version of rails and Ruby they&rsquo;re using in production.</p><p>[00:21:55] <strong>Stefanni Brasil:</strong> In fast Ruby that I, oh, we talked to a lot of companies out there that are running like rails three to four, two, and they&rsquo;ve been around for 10 years or more. Some of them are determined to upgrade and they work with us and some are okay. Just having a very old version of rails, but yeah. That is definitely like a signal to consider when accepting or rejecting a job.</p><p>[00:22:22] <strong>Thiago Araujo:</strong> Do you see any differences in the business? So for example, companies that are okay having another version of rails, are they tech companies, are they, sales companies are companies that do something that is not. Tack or maybe they don&rsquo;t have a product. Do you see any differences in the mindset versus the business side of things?</p><p>[00:22:47] <strong>Thiago Araujo:</strong> How, how they do things, what they sell?</p><p>[00:22:49] <strong>Ernesto Tagwerker:</strong> Not really. I mean, we don&rsquo;t specialize in any industry. If anything, we specialize on JavaScript, uh, react JS. Ruby and rails. So we&rsquo;re very much tech focused and not so much industry focused. Um, we&rsquo;d definitely work with companies that have from one engineer in their develop and their development team to 500 engineers in the.</p><p>[00:23:18] <strong>Ernesto Tagwerker:</strong> Engineering department, I would say it&rsquo;s probably more common in smaller companies with smaller engineering teams that are focused on shipping changes, uh, patching bugs. They have a roadmap and technical debt is seen as a distraction as in, uh, we will pay off, we&rsquo;ll pay it off later. Like this is not a priority.</p><p>[00:23:43] <strong>Ernesto Tagwerker:</strong> We really need to ship this for, you know, black Friday. So we&rsquo;re okay. Focused on tech debt. Later, but usually later never comes anyway, but yeah, I definitely have seen a lot of these issues, not just in small companies, but also like huge companies out there. I think it&rsquo;s, it&rsquo;s probably like a cultural problem, like, uh, teams focusing on shipping things and the roadmap and technical debt kind of takes a back seat.</p><p>[00:24:12] <strong>Ernesto Tagwerker:</strong> And sometimes you see like these, oh, we&rsquo;re going to. Uh, one or two weeks or a whole, I don&rsquo;t think a whole month is reasonable, but like, let&rsquo;s take two weeks, everybody working on tech debt and let&rsquo;s bring it down, but once a year, and I think that&rsquo;s a bad strategy. I think it&rsquo;s more important to have that built-in and every sprint a little bit.</p><p>[00:24:34] <strong>Ernesto Tagwerker:</strong> So yeah, I think companies that have that embedded in their culture. Better companies to join.</p><p>[00:24:41] <strong>Thiago Araujo:</strong> One thing that Stefanni talked about about the interview thing is something that I&rsquo;ve seen is sometimes. The company has, let&rsquo;s say good teams and bad teams. So one of the teams, they have a good tech lead and they care about code quality and testing.</p><p>[00:24:59] <strong>Thiago Araujo:</strong> But then in other teams they don&rsquo;t care as much. And so you&rsquo;re like, oh, I joined the company. I interview for the steam, but then you work on another project that doesn&rsquo;t really have any code coverage. So it can be misleading sometimes to ask about the code quality, because you&rsquo;re never sure where you&rsquo;re going to land.</p><p>[00:25:18] <strong>Thiago Araujo:</strong> Right?</p><p>[00:25:18] <strong>Ernesto Tagwerker:</strong> Yeah. I mean, I think you&rsquo;re probably talking about like huge companies. I think there are also like ton of companies out there that only have one rails monoliths. Yeah. You&rsquo;ll get more or better. Information. And even if you&rsquo;re joining a huge company, I think you would probably be okay, asking like information about the component that you&rsquo;re going to be working on, to get an idea of what version of Ruby and rails here you&rsquo;re working on.</p><p>[00:25:46] <strong>Ernesto Tagwerker:</strong> I need to actually improve the way that we sell. Rails upgrade services, because I think we&rsquo;re still doing a pretty bad job at communicating, like the non-technical results that you can get by upgrading. And one of them is definitely like people related, like nobody wants to work on a rails four application.</p><p>[00:26:11] <strong>Ernesto Tagwerker:</strong> Uh, nobody wants to join like a team that&rsquo;s running rails three. Because every time you need to fix something, it&rsquo;s like, you have to go on these archeological expedition to find the API for the current or the old version of rails. So one of the things that I mentioned in my sales calls is that if you upgrade a route six one, it&rsquo;s going to be easier to hire people.</p><p>[00:26:39] <strong>Ernesto Tagwerker:</strong> And right now, you know, the market is crazy for tech talent out there. So these little things make a difference and people want to work in. Departments and applications that are not constantly on fire. Uh, people want to work 40 hours a week or less. I think tech debt is tightly coupled with the, with that idea of programmer happiness and not being a firefighter in, in your job</p><p>[00:27:09] <strong>Thiago Araujo:</strong> and not only hiring people, but also.</p><p>[00:27:11] <strong>Thiago Araujo:</strong> Keeping the goods people, right. Retention rate, because no one wants to work on an old code base for,</p><p>[00:27:20] <strong>Stefanni Brasil:</strong> I agree a lot. And also from the perspective of the majority of people that are still in the. mid-level career. You want to work on the new things. You want to keep your skills sharpening. You know, you don&rsquo;t want to stay stuck working on old things because they&rsquo;re probably getting stuck in your career.</p><p>[00:27:46] <strong>Stefanni Brasil:</strong> It&rsquo;s going to be harder to get out of that work. And it&rsquo;s really interesting how showing that in the terms of, Hey, if you don&rsquo;t take this decision now, even though it doesn&rsquo;t. You might not make sense. Now it&rsquo;s just part of the long-term planning. That&rsquo;s really clever and Ernesto, you mentioned skunk, which is the gem that you created.</p><p>[00:28:14] <strong>Stefanni Brasil:</strong> And from all thegems that we mentioned in the beginning rails_stats metric_foo ruby critic. Is this the only one that you created? Or did you also create another one?</p><p>[00:28:28] <strong>Ernesto Tagwerker:</strong> Yeah, it&rsquo;s definitely the, the one I created and it has been the most popular, uh, I&rsquo;ve created other gems in the past. Um, but they weren&rsquo;t that popular.</p><p>[00:28:41] <strong>Ernesto Tagwerker:</strong> Um, but, uh, yeah, recently we found ourselves kind of becoming cold call maintainers of Ruby gems that have been abandoned by their previous maintainers. Uh, or you know, that the maintainers that we&rsquo;re currently working on them moved onto something else. Um, so Ruby critic, um, I started contributing to it and I thought it was a really cool idea.</p><p>[00:29:06] <strong>Ernesto Tagwerker:</strong> And I started trying to fix a couple of things. And when I was building skunk, I wanted to combine complexity and churn data with, um, Code coverage. There are two great articles by one by Michael feathers, another one by Sandy Metz, where they talk about this idea of the churn versus complexity graph. And in order to find insights about a code base.</p><p>[00:29:36] <strong>Ernesto Tagwerker:</strong> Which is awesome because you can quickly see which files are the most changed and the most complex. And you&rsquo;re like, okay, I probably want to stay away from, from those, if I&rsquo;m just starting on the project. And then I thought it would be awesome to add a third dimension in code complexity. So instead of seeing like a 2d graph with churn and complexity, it would be more kind of like a cube, I guess.</p><p>[00:30:06] <strong>Ernesto Tagwerker:</strong> Uh, never got to build the UI for it. So right now it&rsquo;s only like a terminal table that is printed and it basically ranks the files, forum, stinkiest to nicer smelling code. Um, but yeah, anyway, the idea was not to. Criticize someone&rsquo;s application, but it more about finding the files that need the most attention.</p><p>[00:30:35] <strong>Ernesto Tagwerker:</strong> Um, and I thought, okay, what about combining churn times? Complexity times, lack of coverage. Um, and that&rsquo;s how skunk was born. I decided to. Tightly, couple it to Ruby critic. So skunk uses Ruby critic to work. That&rsquo;s why I became a maintainer, of ruby critic, uh, for rail stats. Um, so there&rsquo;s, you know, the native rake stats, uh, that comes with rails, which.</p><p>[00:31:07] <strong>Ernesto Tagwerker:</strong> Pretty cool. But sometimes it&rsquo;s hard when we&rsquo;re trying to assess a code base and we have to bundle it and run, you know, bundle exec rake stats. It&rsquo;s sometimes it&rsquo;s harder than you would think because these are huge applications and not all of them use Docker. Um, but anyway, rail stats is a tool that lets you see the same statistics for a rails application without actually.</p><p>[00:31:36] <strong>Ernesto Tagwerker:</strong> Uh, having to bundle the application and start the environment. Um, and one thing that we want to do in that gem soon as combine it with bundler stats in order to get an idea of the size of our rails application and that way we would have the number of gems, number of total gems and all the statistical information on the models, views, and controllers, and then metric.</p><p>[00:32:02] <strong>Ernesto Tagwerker:</strong> I it, 10 years ago, I went to a Ruby conference in New York and I saw someone, you know, showing metric foo I thought that was really neat idea. Uh, really cool that it runs a bunch of tools against your code base. And it generates a bunch of reports, but yeah, 10 years later, I wanted to use it again because I was considering it as.</p><p>[00:32:25] <strong>Ernesto Tagwerker:</strong> Tool that I would use, uh, to create skunk, uh, on top of, um, but it wasn&rsquo;t maintained. So I started making contributions and Ben, who was the last maintainer of the project was open to adding a commentator. And, um, yeah, me and my company started, uh, commentating the project recently. And if you go to the Wiki page for metric fool, you&rsquo;re actually gonna find a table with.</p><p>[00:32:52] <strong>Ernesto Tagwerker:</strong> More than 30 other gems that are out there that are all about code quality. So I think the hard part about code quality is that. I would say we have way too many tools and way too many ways to define a baseline for our applications. Quality.</p><p>[00:33:12] <strong>Ernesto Tagwerker:</strong> Well is actually</p><p>[00:33:12] <strong>Thiago Araujo:</strong> pretty cool that we have so many options in the Ruby ecosystem because you should compare it to other ecosystems that they don&rsquo;t have as much stuff then.</p><p>[00:33:24] <strong>Thiago Araujo:</strong> We do. Right. So it&rsquo;s really interesting.</p><p>[00:33:27] <strong>Ernesto Tagwerker:</strong> Yeah, it is though, a little shocking that so many tools have been abandoned on the code quality front. I think like maybe seven years ago or seven to 10 years ago, there was a lot of focus on it. And it does feel like in the past five years, Those projects have been abandoned and there&rsquo;s been no progress and many of them, yeah.</p><p>[00:33:53] <strong>Thiago Araujo:</strong> This is something that I was talking about with Stefanni, because I remember five, seven years ago, like you mentioned, there were so many projects, so many talks about good quality, good coverage and all of that. And it feels like. Things changed a bit and I&rsquo;m not sure why. And then I wanted to ask you, do you have any insights into that?</p><p>[00:34:16] <strong>Thiago Araujo:</strong> Why are people not talking about code quality as much anymore? Or maybe I&rsquo;m not in the right places. So I don&rsquo;t know.</p><p>[00:34:26] <strong>Ernesto Tagwerker:</strong> No, I think you, you&rsquo;re probably in the right place. Uh, is. I don&rsquo;t think people are talking that much about it or working on it actively. I think Ruby critic is probably the best tool out there and the one that&rsquo;s getting the most attention.</p><p>[00:34:42] <strong>Ernesto Tagwerker:</strong> So if, um, any of your listeners want to use one of these tools, I would recommend to try Ruby critic, um, and then maybe skunk, you know, The barrier of entry for skunk is a little higher because you need to runsimple cov first and then you can run skunk. But yeah. Going back to your question, I don&rsquo;t know why people are not actively working on this that much and why there isn&rsquo;t that much content about code quality and Ruby anymore.</p><p>[00:35:16] <strong>Ernesto Tagwerker:</strong> Hopefully it is because people are using tools. Cold climate and code scene. And maybe they&rsquo;re just adopting the defaults that are in those tools. Which is okay. You know, like if you want to use those tools, that is awesome. Go for it. They will help you pay off technical debt and focus on having a measurable, measurable way to do it.</p><p>[00:35:43] <strong>Ernesto Tagwerker:</strong> I think maybe the quality, the quality department or the quality area has been more reactive than proactive for many companies. So it&rsquo;s like. Oh, performance started crawling like what&rsquo;s what&rsquo;s going on. Okay. We need to find bottlenecks. Okay. Let&rsquo;s focus on performance now. Or. You know, oh, the developers are taking too long to ship stuff because the code is a huge mess.</p><p>[00:36:10] <strong>Ernesto Tagwerker:</strong> Oh, okay. Let&rsquo;s spend a four spreads trying to pay off technical debt and then that will fix it. Um, which is, as I said, like a bad idea. Um, but yeah, I think we are very much reactive as, as an industry and I think. Maybe we need to be a bit more proactive. Um, and if you don&rsquo;t want to use code climate or code scene, you can adapt some of these tools.</p><p>[00:36:40] <strong>Ernesto Tagwerker:</strong> I know, like there are certain tools that are very much up to date and adopted, like Robocop is adopted and as a great way to make sure. You know, how silly discussions about code style in a pull request. You just have rural Robocop and Robocop takes care of it. Um, standard is, you know, another take on Robocop.</p><p>[00:37:01] <strong>Ernesto Tagwerker:</strong> I still like based on Robocop and then there are other tools. So some people also like to use things like reek, uh, that will basically run with over commit. So every time someone tries to commit a code. Is stinky, according to wreak, they will have that in place. Um, so I think maybe it&rsquo;s because people are picking like one or two tools and just applying them to their.</p><p>[00:37:29] <strong>Ernesto Tagwerker:</strong> To their checks for every pull request.</p><p>[00:37:32] <strong>Stefanni Brasil:</strong> That would be really cool. Maybe that is one of the scenarios, hopefully. And I still, you already mentioned the gems again, and I would like to ask you as a community, how can we support. Better your, I know that the best way is to contribute more, but is that, is there something specific, like maybe, do you need people to just use it now and give you feedback?</p><p>[00:38:02] <strong>Stefanni Brasil:</strong> How, how can we help? The community by supporting the gemsthat you&rsquo;ve maintained.</p><p>[00:38:08] <strong>Ernesto Tagwerker:</strong> Yeah. Uh, I think using some of these gems would be amazing. Um, yeah, like you said, contributing can sometimes take a long time and can be a little scary, but, um, trying to use it, trying to use any of these tools, like metric food, um, rail stats, um, Ruby critic and skunk, uh, would it be.</p><p>[00:38:33] <strong>Ernesto Tagwerker:</strong> Awesome because. If you find any issues, then we can quickly assess why it&rsquo;s happening and try to fix it. Um, another thing that you can do is if you run skunk, um, there&rsquo;s a little environment variable that you can set, uh, like it&rsquo;s called share. She said share to one and you run skunk on an open source project.</p><p>[00:39:00] <strong>Ernesto Tagwerker:</strong> Uh, and then it reports back to a little service that. That&rsquo;s also open source. It&rsquo;s called it&rsquo;s called, um, skunk FYI. Um, that gives us more information to work on version 1.0, uh, I think for ver version 1.0 of skunk, what we want to do is change the skunk score grading system to something that&rsquo;s easier to understand.</p><p>[00:39:28] <strong>Ernesto Tagwerker:</strong> So. It seems like the grade a to grade F is the way to go. Like Ruby critic, does it cold climate does it. And I think skunk should do it too so that when people run the tool, they can see, you know, oh, this is an, a, this is an F there&rsquo;s a D and it&rsquo;s easier to. I understand that the information that&rsquo;s throwing at you, because some right now when you run it, it says like all the skunk score for this file is 15,000.</p><p>[00:40:02] <strong>Ernesto Tagwerker:</strong> And one of the questions that I&rsquo;ve gotten at conferences is like, what does that even mean? What is 15,000 good or bad? And I want to give more context and say like, yeah, 15,000 is probably bad. So. Please, uh, considering factoring it.</p><p>[00:40:20] <strong>Stefanni Brasil:</strong> I&rsquo;m curious to know, how did you get started with contributing to open source?</p><p>[00:40:26] <strong>Stefanni Brasil:</strong> Do you remember the first one and how was it?</p><p>[00:40:31] <strong>Ernesto Tagwerker:</strong> Uh, yeah, for sure. Um, the first project was a Ruby wrapper for a service called topsy and. They were acquired by apple many years ago, but, uh, I really liked the idea of building wrappers and Ruby for API APIs. And I worked for about a week and our released it.</p><p>[00:40:54] <strong>Ernesto Tagwerker:</strong> And then a week went by and someone else wrote the same gem and released it. And I was like, oh, What a bummer. Someone just did the same thing that I did, but they did it better because they added a test suite to the project and. Uh, yeah, it was a bummer at the beginning, but then I reached out to them on Twitter.</p><p>[00:41:18] <strong>Ernesto Tagwerker:</strong> And to, to this, to this day, I can say that we&rsquo;re friends thanks to open source. So anyway, if you want to get started with open source and you know, an API, that&rsquo;s cool. And you want to use it to do some sort of mashup. I think that&rsquo;s also like a great way. To get started with, uh, open source because Ruby wrappers are pretty easy to write.</p><p>[00:41:45] <strong>Ernesto Tagwerker:</strong> And there are a ton of examples in github. Like you can just search for like the Twitter API, Ruby wrapper, and you can just copy and paste a lot of the code in there to create your own wrapper. Um, but yeah, I, uh, anyway, I, I love open source and for 10 years I&rsquo;ve been doing this and. I know it&rsquo;s hard for people who are just starting.</p><p>[00:42:11] <strong>Ernesto Tagwerker:</strong> So I think using the tools and reporting back, any issues that you have is a great way to get started, to contribute to source. And another way to get started is if you like one of these tools and you want to run or write up tutorial or your own experience running one of these tools and what you learned with them.</p><p>[00:42:34] <strong>Ernesto Tagwerker:</strong> You know, you can create an article and that helps us get more eyeballs and more people using the tools and hopefully the eyeballs turn into more issues as well.</p><p>[00:42:47] <strong>Stefanni Brasil:</strong> Uh, good advice. One thing that pretty surprised us when we. Decided to just explore rails was we didn&rsquo;t set a lot of expectations. We, we got there just, okay, what can we do here?</p><p>[00:43:05] <strong>Stefanni Brasil:</strong> We learned quite a few interesting things just by trying to reproduce issues. For example, I think that starting with a project, just as a way to explore and setting your expectations really low kind of help. Cause then you discover some things and you makes things more exciting, I guess.</p><p>[00:43:30] <strong>Ernesto Tagwerker:</strong> You know, some people wouldn&rsquo;t recommend, uh, new developers or junior developers to start contributing to rails because rails is a beast and, you know, it&rsquo;s amazing.</p><p>[00:43:44] <strong>Ernesto Tagwerker:</strong> I love rails and I love everybody contributing to it. But. It&rsquo;s very hard to get started with something there. That is, code-based one thing that you can do, and I&rsquo;ve actually done it. Myself is go through the documentation and improve the documentation. There&rsquo;s so much room for improvement in their rails docs that, um, if you want to make like a tiny contribution to rails, that could be a good way to get.</p><p>[00:44:14] <strong>Ernesto Tagwerker:</strong> Um, and the more you look at the documentation, the easier it&rsquo;s going to get to eventually make a code contribution to rails still. I would not recommend people start with rails. I would recommend they start with a. Small gem that they might be using or, uh, yeah. So something that&rsquo;s small and easy to understand.</p><p>[00:44:39] <strong>Thiago Araujo:</strong> Yeah, that&rsquo;s a great, great tip. One thing that I guess was Gui friend of ours. He came on a podcast long time ago. He said, if you want to contribute, maybe use, maybe just get a gem. And then use the latest rails version, you know, rails 7.1 batter or whatever, and then see if it breaks if the test suite breaks and then you can just fix it.</p><p>[00:45:04] <strong>Thiago Araujo:</strong> So this is kind of a easy way to contribute to other projects because the API, the rails API changes. So it&rsquo;s. Keep things up to date.</p><p>[00:45:15] <strong>Ernesto Tagwerker:</strong> Yeah. Yeah. I love that idea. And I&rsquo;ve actually implemented it myself on these, some of these tools, that&rsquo;s kind of how I got involved in some of them, because I wanted to see if they work with Ruby three and you know, Ruby three, it&rsquo;s almost been a year, but there are many libraries out there that are not running their test suite against Ruby three.</p><p>[00:45:39] <strong>Ernesto Tagwerker:</strong> And. There&rsquo;s certainly a great way to, to find issues with a gym. And even if you don&rsquo;t find an issue, you can just submit a pull request, including Ruby configuration. And it&rsquo;s just telling them like, Hey, you were missing. gem works with Ruby three of, and it&rsquo;s like a very quick way to make a contribution.</p><p>[00:46:04] <strong>Thiago Araujo:</strong> So just getting back to the code quality discussion, I&rsquo;m kind of fascinated by legacy applications, because at the same time that people originally angry at legacy code, you know, they say, oh, it&rsquo;s terrible is all crap and all of that. But at the same time, It&rsquo;s usually a sign that people are using the product, which is something that is very valuable for a company to have people actively paying and using yourself.</p><p>[00:46:38] <strong>Thiago Araujo:</strong> And then people are very negative about legacy applications. And I, I think that the tips that you are sharing and then using these tools and, you know, learning more about these techniques from Michael feathers and Sandi Metz can help you be more positive about working with legacy code because you&rsquo;re contributing to something that helps.</p><p>[00:47:04] <strong>Thiago Araujo:</strong> You kind of have to change your mindset about legacy code. Right. Did you ever have to change your mindset about something that you see like a sequel in a positive way? How do you kind of approach that?</p><p>[00:47:19] <strong>Ernesto Tagwerker:</strong> Yeah, I agree with you. Like their legacy code gets a bad rap. You know, if you think about it, um, Shopify is running legacy code and they&rsquo;re making millions of dollars and sure.</p><p>[00:47:36] <strong>Ernesto Tagwerker:</strong> They&rsquo;re running the latest of rails and Ruby, but, um, yeah, if you think about it, it&rsquo;s been, uh, if an application has been around for 10 years and there&rsquo;s a whole company counting on it, It is deemed to be legacy code. To me, it just means like this is a business that works. And at the end of the day, they can pay me to, um, have a salary, basically.</p><p>[00:48:01] <strong>Ernesto Tagwerker:</strong> So, and I can use the time that they pay me for to, to make it better. I really like this idea of makers and menders. My friend am Scott Ford, who runs another podcasts. I think it&rsquo;s called legacy code rocks. He likes to talk about the idea that, you know, engineer. Usually are either makers or menders and either you like to build something from scratch, or you like to mend something that already exists.</p><p>[00:48:34] <strong>Ernesto Tagwerker:</strong> I&rsquo;m more of a mender than a maker. I&rsquo;m sure I built my company. So in a way, I like to make businesses in a way, but some people in my company are more makers than menders. So what we want to do in my company is to have. Projects for makers and for menders. Um, but if I had to pick myself, I would pick the mender projects because I like to gradually improve, you know, the infrastructure of an application or to improve their processes.</p><p>[00:49:11] <strong>Ernesto Tagwerker:</strong> So. Yeah, I think, uh, I think it&rsquo;s important to make that definition between, you know, what you want to do with your career and what they want you to do at work, you know, and sometimes, you know, you&rsquo;ll just want to mend things and sometimes. You know, other people will just want to make things and that&rsquo;s okay.</p><p>[00:49:33] <strong>Ernesto Tagwerker:</strong> Um, what I like about legacy code is that it&rsquo;s working and it&rsquo;s been working for many, many years and sure it can be enhanced and improved. There&rsquo;s probably a test suite and the test suite is going to tell me I changed something and I try to pay off technical debt and I broke it. So yeah, I really like legacy code.</p><p>[00:49:55] <strong>Ernesto Tagwerker:</strong> Yeah. I know there are a ton of people out there that love to work on legacy code too, even when it gets up.</p><p>[00:50:02] <strong>Thiago Araujo:</strong> But it&rsquo;s funny because it don&rsquo;t hear much about it. So there are people out there working on legacy code, making things better, and you don&rsquo;t hear about it because it&rsquo;s working. Right. So it&rsquo;s kind of like you&rsquo;re doing important work, but maybe you don&rsquo;t get as much.</p><p>[00:50:19] <strong>Thiago Araujo:</strong> visibility when you&rsquo;re doing that.</p><p>[00:50:21] <strong>Ernesto Tagwerker:</strong> Yeah, I guess it&rsquo;s, it&rsquo;s definitely not sexy. Like, it&rsquo;s not like, oh, I built this, uh, JavaScript framework to, you know, solve this problem. It&rsquo;s no, it&rsquo;s definitely not, not sexy. And maybe if people write about it, Reaches, not that that big, but there&rsquo;s definitely like a microcosm of people who are writing articles about legacy code and maintainability.</p><p>[00:50:52] <strong>Ernesto Tagwerker:</strong> Yeah. I actually love to be in that little microcosm, I guess</p><p>[00:50:58] <strong>Thiago Araujo:</strong> I really loved the analogy that you mentioned Manders versus makers. And I think when you&rsquo;re getting. Um, maker an engineer who is a maker and tells this person to mend software. I think the knee jerk reaction they have is, oh, I&rsquo;m gonna throw everything away and build everything from scratch, you know, the big rewrite and things like that.</p><p>[00:51:24] <strong>Thiago Araujo:</strong> And it&rsquo;s. Usually doomed to failure, right? So maybe you can&rsquo;t do that. So don&rsquo;t put a maker to mendyour projects.</p><p>[00:51:34] <strong>Ernesto Tagwerker:</strong> Uh, well, there&rsquo;s this book by Fred Brooks and I think it was published in the seventies. And one of the chapters of the medic mythical man month is called something. The joys and woos of the craft.</p><p>[00:51:48] <strong>Ernesto Tagwerker:</strong> And he actually goes on to say like, yeah, you know, like building something is like accessing, like the creative part of your brain is like, that&rsquo;s full of joy because you&rsquo;re like in a state of flow, you&rsquo;re trying to solve a problem and you&rsquo;re trying to build something new. So it was like, oh, everybody&rsquo;s joy there.</p><p>[00:52:06] <strong>Ernesto Tagwerker:</strong> And then the woos, or like the, the bad part is like fixing bucks, you know? And he assumes that nobody likes to fix bugs. I think that&rsquo;s a wrong assumption. Like I think there are like, uh, many people out there that love to solve puzzles and love to basically dig into a bug and go deep into. The stack race and try to find that anyway, I think like we need to add this to our lingo and to say, just because you&rsquo;re a software engineer doesn&rsquo;t mean that you enjoy building stuff, stuff from scratch.</p><p>[00:52:42] <strong>Ernesto Tagwerker:</strong> Like there are plenty of software engineers that just want to go to an established team and maybe. Improves that code base to work better for the end user or the developers.</p><p>[00:52:54] <strong>Stefanni Brasil:</strong> I know rnesto. So you will have lots of things you do. Uh, just want to try to ask if there is something that you would like us to have asked that we didn&rsquo;t</p><p>[00:53:03] <strong>Ernesto Tagwerker:</strong> well, yeah, considering you&rsquo;re from Brazil and I&rsquo;m from Argentina.</p><p>[00:53:07] <strong>Ernesto Tagwerker:</strong> I was actually expecting, we could talk a little bit more about soccer and the America&rsquo;s cup and the last final that Brazil and Argentina played, but I know. Topic. It&rsquo;s not the topic we&rsquo;re discussing today, but, um, I have time to discuss that if you want. Thank you.</p><p>[00:53:25] <strong>Thiago Araujo:</strong> We were probably the worst people. This, I have no idea about soccer at all.</p><p>[00:53:35] <strong>Thiago Araujo:</strong> I don&rsquo;t really watch soccer. Sorry.</p><p>[00:53:38] <strong>Ernesto Tagwerker:</strong> Okay. Yeah. Even if you knew, uh, I would expect that answer anyway, so no worries. Carnival soccer. We are not very into that kind of stuff, but we can talk about food. So food is our passion. Okay. Okay. Um, anyway, no, it was great to be here. And, uh, yeah. If anybody wants to see some of the work that we do, uh, feel free to follow me on Twitter.</p><p>[00:54:08] <strong>Ernesto Tagwerker:</strong> My handle is etagwerker and I usually. Uh, content from the company.</p><p>[00:54:15] <strong>Stefanni Brasil:</strong> Thank you so much. That was a great talk. I loved learning so much things from you. So thank you so much for sharing your experience and your skills and insights. You know, we will make sure to put the gems in the. Episode notes. So everyone can at least take a look.</p><p>[00:54:36] <strong>Stefanni Brasil:</strong> Ernesto is a really nice guy. And you can say you, you met him from the podcast. Everyone go check them.</p><p>[00:54:43] <strong>Thiago Araujo:</strong> Yeah. Thank you so much. Thanks so much here,Ernesto for coming on the show. Thank you so much for your work as well. So these gems are really important and, you know, having someone to take over and continue the work is really important, really relevant.</p><p>[00:54:59] <strong>Thiago Araujo:</strong> The community is also nice to finally meet you because we worked in the same projects in the past. We will never really met. I always saw your picture on git but I never got to talk to you. So it&rsquo;s really amazing to, to meet you and thank you so much.</p><p>[00:55:15] <strong>Ernesto Tagwerker:</strong> I hope it&rsquo;s all, all good things and you didn&rsquo;t have to fix all the bugs that I added before I left.</p><p>[00:55:23] <strong>Stefanni Brasil:</strong> Yeah, should run the skunk and report.</p><p>[00:55:30] <strong>Ernesto Tagwerker:</strong> Please do that.</p><p>[00:55:43] <strong>Stefanni Brasil:</strong> Thank you for listening to this episode, we put lots of love into the hex labs podcast, and we hope you learned something insightful before you go on with your day. Could you share this episode with a friend or a colleague? That would help us a lot</p><p>[00:55:58] <strong>Thiago Araujo:</strong> And don&rsquo;t forget to subscribe to our newsletter, to get exercises, tools, insights, to help you become a Ruby expert developer. See you on the next episode.</p><hr><p><div class=signup-form><script async data-uid=cee09b7cba src=https://hexdevs-team.ck.page/cee09b7cba/index.js></script></div><br><p>Did you like this article? You're gonna love these other ones:</p><ul><li><a href=/posts/code-quality-ruby-on-rails/>How to Improve Code Quality on a Ruby on Rails Application</a></li><li><a href=/posts/ruby-on-rails-courses-purchasing-power-parity/>International Pricing for Ruby and Rails Books and Courses</a></li><li><a href=/posts/how-to-learn-programming-language-syntax/>How to Learn the Syntax of a Programming Language When You Know How to Code</a></li></ul></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.hexdevs.com/tags/ruby/>ruby</a></li><li><a href=https://www.hexdevs.com/tags/ruby-on-rails/>ruby on rails</a></li><li><a href=https://www.hexdevs.com/tags/software-design/>software design</a></li><li><a href=https://www.hexdevs.com/tags/best-practices/>best practices</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on twitter" href="https://twitter.com/intent/tweet/?text=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker&url=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f&hashtags=ruby%2crubyonrails%2csoftwaredesign%2cbestpractices"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-253.927 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f&title=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker&summary=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker&source=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0v-129.439c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02v-126.056c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768h75.024zm-307.552-334.556c-25.674.0-42.448 16.879-42.448 39.002.0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f&title=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zm-119.474 108.193c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zm-160.386-29.702c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978v-192.915h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on whatsapp" href="https://api.whatsapp.com/send?text=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker%20-%20https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512h-386.892c-34.524.0-62.554-28.03-62.554-62.554v-386.892c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23-13.314-11.876-22.304-26.542-24.916-31.026s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ruby Code Quality with Ernesto Tagwerker on telegram" href="https://telegram.me/share/url?text=Ruby%20Code%20Quality%20with%20Ernesto%20Tagwerker&url=https%3a%2f%2fwww.hexdevs.com%2fposts%2fruby-code-quality-ernesto-tagwerker%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47A3.38 3.38.0 0126.49 29.86zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.hexdevs.com/>hexdevs</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=https://www.hexdevs.com/assets/js/highlight.min.27cd435cc9ed6abb4b496581b151804f79f366c412620272bb94e2f5f598ebcc.js integrity="sha256-J81DXMntartLSWWBsVGAT3nzZsQSYgJyu5Ti9fWY68w=" onload=hljs.initHighlightingOnLoad();></script><script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});if(id==="top"){history.replaceState(null,null," ");}else{history.replaceState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>